{
    "version": "https://jsonfeed.org/version/1.1",
    "user_comment": "This feed allows you to read the posts from this site in any feed reader that supports the JSON Feed format. To add this feed to your reader, copy the following URL -- https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/feed/json/ -- and add it your reader.",
    "home_page_url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/",
    "feed_url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/feed/json/",
    "language": "en-US",
    "title": "Comments on: Top Five WordPress SQL Queries",
    "items": [
        {
            "id": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-678",
            "url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-678",
            "content_html": "[...] a webapp, WP is also sensitive to performance. I&#8217;ve written about SQL query changes that could be done in WP before with a less than enthusiastic response. Recently the LightPress [...]",
            "content_text": "[...] a webapp, WP is also sensitive to performance. I&#8217;ve written about SQL query changes that could be done in WP before with a less than enthusiastic response. Recently the LightPress [...]",
            "date_published": "2008-04-08T14:00:38-06:00",
            "authors": [
                {
                    "name": "You Don&#8217;t Have To Be Pretty To Be Successful - Joseph Scott&#8217;s Blog",
                    "url": "http://joseph.randomnetworks.com/archives/2005/06/06/you-dont-have-to-be-pretty-to-be-successful/",
                    "avatar": false
                }
            ],
            "author": {
                "name": "You Don&#8217;t Have To Be Pretty To Be Successful - Joseph Scott&#8217;s Blog",
                "url": "http://joseph.randomnetworks.com/archives/2005/06/06/you-dont-have-to-be-pretty-to-be-successful/",
                "avatar": false
            }
        },
        {
            "id": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-677",
            "url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-677",
            "content_html": "Rudd-0:\n\nForcing that kind of optimization to the database makes no sense because it makes scalability more difficult.  If I have a very busy WordPress install I can easily have 3 web servers all talking to one database server to increase my capacity.  With this kind of code optimization I'm still making the database server to work that could have been distributed across the three web servers.\n\nBut just for kicks I put together a very simple test to see which one is faster.  Run the query with 1=1 vs an if(empty($some_var)) check for 10,000 times.  The 1=1 run took and average of more than 0.07 seconds longer than if(empty($some_var)) on each run of 10,000.  Just to make sure I ran more than a dozen sets (of 10,000 runs) with 1=1 first and then another with if(empty($some_var)) first to make sure that being second wasn't giving an advantage.  The 1=1 sets were ALWAYS slower than if(empty($some_var)).\n\nIf it is basic developer knowledge that doing 1=1 for the sake of code optimizations, then that developer would be wrong (at least according to my benchmark and scalability issue).\n\nI'd be happy to supply my simple benchmark code, although I'd recommend just running your own tests to see what sort of results you get.",
            "content_text": "Rudd-0:\n\nForcing that kind of optimization to the database makes no sense because it makes scalability more difficult.  If I have a very busy WordPress install I can easily have 3 web servers all talking to one database server to increase my capacity.  With this kind of code optimization I'm still making the database server to work that could have been distributed across the three web servers.\n\nBut just for kicks I put together a very simple test to see which one is faster.  Run the query with 1=1 vs an if(empty($some_var)) check for 10,000 times.  The 1=1 run took and average of more than 0.07 seconds longer than if(empty($some_var)) on each run of 10,000.  Just to make sure I ran more than a dozen sets (of 10,000 runs) with 1=1 first and then another with if(empty($some_var)) first to make sure that being second wasn't giving an advantage.  The 1=1 sets were ALWAYS slower than if(empty($some_var)).\n\nIf it is basic developer knowledge that doing 1=1 for the sake of code optimizations, then that developer would be wrong (at least according to my benchmark and scalability issue).\n\nI'd be happy to supply my simple benchmark code, although I'd recommend just running your own tests to see what sort of results you get.",
            "date_published": "2004-12-11T11:37:23-07:00",
            "authors": [
                {
                    "name": "Joseph Scott",
                    "url": "http://joseph.randomnetworks.com/",
                    "avatar": "https://secure.gravatar.com/avatar/407fb36bbf6a01e151680be9f408b5af?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Joseph Scott",
                "url": "http://joseph.randomnetworks.com/",
                "avatar": "https://secure.gravatar.com/avatar/407fb36bbf6a01e151680be9f408b5af?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-676",
            "url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-676",
            "content_html": "While 1=1 may be an optimization in the code, it's absurd to EVER state that using a PHP if() (to remove the 1=1) before the query is going to be slower than letting the DB do it.  the if will always take less resources to process than the DB to figure out.  Yes, I'm nitpicking here, but, dude, this is basic knowledge for a developer!",
            "content_text": "While 1=1 may be an optimization in the code, it's absurd to EVER state that using a PHP if() (to remove the 1=1) before the query is going to be slower than letting the DB do it.  the if will always take less resources to process than the DB to figure out.  Yes, I'm nitpicking here, but, dude, this is basic knowledge for a developer!",
            "date_published": "2004-12-11T03:27:38-07:00",
            "authors": [
                {
                    "name": "Rudd-O",
                    "url": "http://www.amautacorp.com/staff/Rudd-O",
                    "avatar": "https://secure.gravatar.com/avatar/9a590580441b8720a60635459cf34af1?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Rudd-O",
                "url": "http://www.amautacorp.com/staff/Rudd-O",
                "avatar": "https://secure.gravatar.com/avatar/9a590580441b8720a60635459cf34af1?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-675",
            "url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-675",
            "content_html": "\"WHERE 1=1\"\nI think you are right, it probably is an attempt to optimize the PHP vs the database.  I tend to thing that this is the wrong way to optimize.  I haven't seen numbers indicating one way or the other though.\n\nPage Views\nCaching can potentially be a big win.  I didn't mention that because I was looking strictly at the top 5 queries being run.",
            "content_text": "\"WHERE 1=1\"\nI think you are right, it probably is an attempt to optimize the PHP vs the database.  I tend to thing that this is the wrong way to optimize.  I haven't seen numbers indicating one way or the other though.\n\nPage Views\nCaching can potentially be a big win.  I didn't mention that because I was looking strictly at the top 5 queries being run.",
            "date_published": "2004-11-02T09:31:53-07:00",
            "authors": [
                {
                    "name": "Joseph Scott",
                    "url": "http://joseph.randomnetworks.com/",
                    "avatar": "https://secure.gravatar.com/avatar/407fb36bbf6a01e151680be9f408b5af?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Joseph Scott",
                "url": "http://joseph.randomnetworks.com/",
                "avatar": "https://secure.gravatar.com/avatar/407fb36bbf6a01e151680be9f408b5af?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-674",
            "url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-674",
            "content_html": "1) Regarding \"WHERE 1=1\"\nThis is often an optimisation of the code for maintainability. We do use this trick to simplify SQL generation code. The same query-generator could be used to add a real WHERE clause to the query, without any cost at teh PHP side. Trying to optimize the small 1s/week gain on the MySQL side might mean adding 2s/week on the PHP side, in a simply IF/THEN/ELSE statement...\n\n2) Regarding page views\nWhat I see here is that you have something like 5400 pages views in the week, each of them running 3 queries (I don't take the other queries into account). Compare this to the 44 UPDATEs : you could have had the same user-side result with only 44 * 3 SELECTs... Using a simple caching could improve you site's efficiency by a factor of 122 : do your SQL queries, generate a page, cache the result locally, and add cache headers to the resulting page. You choose the cache duration (say 4 hours ?), et voil\u00e0 : net SQL improvement = 128 times (run queries every 4 hours, ie. 42 times a week instead of 5400).",
            "content_text": "1) Regarding \"WHERE 1=1\"\nThis is often an optimisation of the code for maintainability. We do use this trick to simplify SQL generation code. The same query-generator could be used to add a real WHERE clause to the query, without any cost at teh PHP side. Trying to optimize the small 1s/week gain on the MySQL side might mean adding 2s/week on the PHP side, in a simply IF/THEN/ELSE statement...\n\n2) Regarding page views\nWhat I see here is that you have something like 5400 pages views in the week, each of them running 3 queries (I don't take the other queries into account). Compare this to the 44 UPDATEs : you could have had the same user-side result with only 44 * 3 SELECTs... Using a simple caching could improve you site's efficiency by a factor of 122 : do your SQL queries, generate a page, cache the result locally, and add cache headers to the resulting page. You choose the cache duration (say 4 hours ?), et voil\u00e0 : net SQL improvement = 128 times (run queries every 4 hours, ie. 42 times a week instead of 5400).",
            "date_published": "2004-11-02T05:10:07-07:00",
            "authors": [
                {
                    "name": "Nicolas Huillard",
                    "url": "http://www.e-dition.fr",
                    "avatar": "https://secure.gravatar.com/avatar/cbbbff6f90ad791b4a9d02ae2ae2e347?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Nicolas Huillard",
                "url": "http://www.e-dition.fr",
                "avatar": "https://secure.gravatar.com/avatar/cbbbff6f90ad791b4a9d02ae2ae2e347?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-673",
            "url": "https://blog.josephscott.org/2004/10/28/top-five-wordpress-sql-queries/#comment-673",
            "content_html": "Thanks a lot for this example, didn't know, that PQA does support now MySQL, too.",
            "content_text": "Thanks a lot for this example, didn't know, that PQA does support now MySQL, too.",
            "date_published": "2004-11-01T08:32:15-07:00",
            "authors": [
                {
                    "name": "Marcel from trafficstatistic.com",
                    "url": "http://www.trafficstatistic.com/",
                    "avatar": "https://secure.gravatar.com/avatar/1a7ecafaab3072c0e682ce541ddc8359?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Marcel from trafficstatistic.com",
                "url": "http://www.trafficstatistic.com/",
                "avatar": "https://secure.gravatar.com/avatar/1a7ecafaab3072c0e682ce541ddc8359?s=512&d=mm&r=g"
            }
        }
    ]
}