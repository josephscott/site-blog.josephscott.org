{
    "version": "https://jsonfeed.org/version/1.1",
    "user_comment": "This feed allows you to read the posts from this site in any feed reader that supports the JSON Feed format. To add this feed to your reader, copy the following URL -- https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/feed/json/ -- and add it your reader.",
    "home_page_url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/",
    "feed_url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/feed/json/",
    "language": "en-US",
    "title": "Comments on: Update Nginx For Better HTTPS Performance",
    "items": [
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4213",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4213",
            "content_html": "[&#8230;] Tollman suggested I try out SPDY with my updated Nginx install. While I&#8217;m sad at the idea of giving up a plain text HTTP API, [&#8230;]",
            "content_text": "[&#8230;] Tollman suggested I try out SPDY with my updated Nginx install. While I&#8217;m sad at the idea of giving up a plain text HTTP API, [&#8230;]",
            "date_published": "2014-04-28T13:52:30-06:00",
            "authors": [
                {
                    "name": "Tried Out SPDY | Joseph Scott",
                    "url": "https://josephscott.org/archives/2014/04/tried-spdy/",
                    "avatar": false
                }
            ],
            "author": {
                "name": "Tried Out SPDY | Joseph Scott",
                "url": "https://josephscott.org/archives/2014/04/tried-spdy/",
                "avatar": false
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4212",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4212",
            "content_html": "Interesting. It's still nice to remove the extra bloat and along with some of the other optimizations, you should hopefully be able to improve the performance.",
            "content_text": "Interesting. It's still nice to remove the extra bloat and along with some of the other optimizations, you should hopefully be able to improve the performance.",
            "date_published": "2014-04-28T12:56:33-06:00",
            "authors": [
                {
                    "name": "Zack Tollman",
                    "url": "http://tollmanz.com",
                    "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Zack Tollman",
                "url": "http://tollmanz.com",
                "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4211",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4211",
            "content_html": "In reply to <a href=\"https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4207\">Zack Tollman</a>.\n\nI tried it with the root cert removed.  It obviously reduced the cert size ( from 3625 bytes to 2543 bytes ), but didn't appear to have any significant improvement for performance.",
            "content_text": "In reply to Zack Tollman.\n\nI tried it with the root cert removed.  It obviously reduced the cert size ( from 3625 bytes to 2543 bytes ), but didn't appear to have any significant improvement for performance.",
            "date_published": "2014-04-23T22:47:55-06:00",
            "authors": [
                {
                    "name": "Joseph Scott",
                    "url": "https://josephscott.org/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Joseph Scott",
                "url": "https://josephscott.org/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4210",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4210",
            "content_html": "In reply to <a href=\"https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4209\">Zack Tollman</a>.\n\nWas mostly looking to see if they got significantly worse.",
            "content_text": "In reply to Zack Tollman.\n\nWas mostly looking to see if they got significantly worse.",
            "date_published": "2014-04-23T17:01:05-06:00",
            "authors": [
                {
                    "name": "Joseph Scott",
                    "url": "https://josephscott.org/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Joseph Scott",
                "url": "https://josephscott.org/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4209",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4209",
            "content_html": "Awesome! Glad to hear it. I wouldn't expect performance improvements with a change to the cipher list; although, I suppose there could be micro improvements with some browsers I suppose.",
            "content_text": "Awesome! Glad to hear it. I wouldn't expect performance improvements with a change to the cipher list; although, I suppose there could be micro improvements with some browsers I suppose.",
            "date_published": "2014-04-23T16:32:47-06:00",
            "authors": [
                {
                    "name": "Zack Tollman",
                    "url": "http://tollmanz.com",
                    "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Zack Tollman",
                "url": "http://tollmanz.com",
                "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4208",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4208",
            "content_html": "In reply to <a href=\"https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4207\">Zack Tollman</a>.\n\nI'm trying out that cipher list now.  Tests so far have been good, performance doesn't seem to have significantly changed ( at least when browsing with Chrome ) and security is definitely better.",
            "content_text": "In reply to Zack Tollman.\n\nI'm trying out that cipher list now.  Tests so far have been good, performance doesn't seem to have significantly changed ( at least when browsing with Chrome ) and security is definitely better.",
            "date_published": "2014-04-23T16:23:21-06:00",
            "authors": [
                {
                    "name": "Joseph Scott",
                    "url": "https://josephscott.org/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Joseph Scott",
                "url": "https://josephscott.org/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4207",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4207",
            "content_html": "I'd be interested to see what happens if you remove the root cert and continue to change the buffer size. You might lose a RT.\n\n<blockquote>I\u2019m never quiet happy with the combination of performance, security, and client support. My SSL Labs score flops around all over the place as a result :-)</blockquote>\n\nI totally understand. The suite I linked to has worked really well. I used it for the SSL setup we are using at The Theme Foundry. It hits the sweet spot between performance, security and compatibility.\n\nYou will love it once you get SPDY installed! The waterfall becomes a work of art ;)",
            "content_text": "I'd be interested to see what happens if you remove the root cert and continue to change the buffer size. You might lose a RT.\n\nI\u2019m never quiet happy with the combination of performance, security, and client support. My SSL Labs score flops around all over the place as a result :-)\n\nI totally understand. The suite I linked to has worked really well. I used it for the SSL setup we are using at The Theme Foundry. It hits the sweet spot between performance, security and compatibility.\n\nYou will love it once you get SPDY installed! The waterfall becomes a work of art ;)",
            "date_published": "2014-04-22T22:58:02-06:00",
            "authors": [
                {
                    "name": "Zack Tollman",
                    "url": "http://tollmanz.com",
                    "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Zack Tollman",
                "url": "http://tollmanz.com",
                "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4206",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4206",
            "content_html": "In reply to <a href=\"https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4205\">Zack Tollman</a>.\n\nThanks for the feedback.  I am bundling the root cert, I could probably get away with just including the intermediate cert, which I haven't tried yet.\n\nI did try a few values for the ssl_buffer_size, in my tests I found that they didn't make any difference.  In terms of ciphers, I'm trying out new combinations all the time.  I'm never quiet happy with the combination of performance, security, and client support.  My SSL Labs score flops around all over the place as a result :-)\n\nSPDY is something that I'll look at enabling the next time I tweak my config.  For this particular upgrade I only wanted to limit the number of changes to make it easier to see what their individual impact was.",
            "content_text": "In reply to Zack Tollman.\n\nThanks for the feedback.  I am bundling the root cert, I could probably get away with just including the intermediate cert, which I haven't tried yet.\n\nI did try a few values for the ssl_buffer_size, in my tests I found that they didn't make any difference.  In terms of ciphers, I'm trying out new combinations all the time.  I'm never quiet happy with the combination of performance, security, and client support.  My SSL Labs score flops around all over the place as a result :-)\n\nSPDY is something that I'll look at enabling the next time I tweak my config.  For this particular upgrade I only wanted to limit the number of changes to make it easier to see what their individual impact was.",
            "date_published": "2014-04-22T18:02:45-06:00",
            "authors": [
                {
                    "name": "Joseph Scott",
                    "url": "https://josephscott.org/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Joseph Scott",
                "url": "https://josephscott.org/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            }
        },
        {
            "id": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4205",
            "url": "https://blog.josephscott.org/2014/04/22/update-nginx-for-better-https-performance/#comment-4205",
            "content_html": "Hi Joseph!\n\nExcellent work! It's nice how many problems updating to the mainline version of Nginx can solve for you. It's also great to see how many WordPress folks are learning about and improving SSL performance.\n\nI took a quick look at your setup via <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=josephscott.org\" rel=\"nofollow\">SSL Labs</a> and have a few suggestions. It looks like you are including the root cert in your cert package. This can lead to extra RTT because of TCP Slow Start. Your initial congestion window might not be able to handle the size of the cert and therefore incur extra RTT. Removing the cert (which is available in all browsers already) <em>could</em> reduce the SSL handshake time some more.\n\nYou may also want to check and ensure that the <a href=\"https://github.com/tollmanz/ssl-nginx-starter/blob/master/srv/salt/config/nginx/sites-enabled/sslplayground.conf#L24-L25\" rel=\"nofollow\">\"ssl_buffer_size\"</a> is set to not overflow the buffer causing extra RTT.\n\nWhile not performance related, it looks like you are using some insecure ciphers in your cipher suite. I'd recommend a list of different <a href=\"https://github.com/tollmanz/ssl-nginx-starter/blob/master/srv/salt/config/nginx/sites-enabled/sslplayground.conf#L17\" rel=\"nofollow\">ciphers</a> that are secure and provide PFS. \n\nFinally, since you are running 1.5.13 with the SPDY module compiled into it, you might as well use it! You get a whole host of performance benefits with it (although it has no impact on the SSL negotiation other than you only have to do it once per page view). You only need to add a few changes to your Nginx config file:\n\n1. <a href=\"https://github.com/tollmanz/ssl-nginx-starter/blob/master/srv/salt/config/nginx/sites-enabled/sslplayground.conf#L2\" rel=\"nofollow\">Enable SPDY</a>\n2. <a href=\"https://github.com/tollmanz/ssl-nginx-starter/blob/master/srv/salt/config/nginx/sites-enabled/sslplayground.conf#L35\" rel=\"nofollow\">Announce SPDY</a>\n\nEnabling SPDY will remove all of the extra purple and orange in your <a href=\"http://www.webpagetest.org/result/140422_9J_3ecbe87ed28a7046289cf0345733049a/2/details/\" rel=\"nofollow\">waterfall</a> for the low cost of two lines of config.",
            "content_text": "Hi Joseph!\n\nExcellent work! It's nice how many problems updating to the mainline version of Nginx can solve for you. It's also great to see how many WordPress folks are learning about and improving SSL performance.\n\nI took a quick look at your setup via SSL Labs and have a few suggestions. It looks like you are including the root cert in your cert package. This can lead to extra RTT because of TCP Slow Start. Your initial congestion window might not be able to handle the size of the cert and therefore incur extra RTT. Removing the cert (which is available in all browsers already) could reduce the SSL handshake time some more.\n\nYou may also want to check and ensure that the \"ssl_buffer_size\" is set to not overflow the buffer causing extra RTT.\n\nWhile not performance related, it looks like you are using some insecure ciphers in your cipher suite. I'd recommend a list of different ciphers that are secure and provide PFS. \n\nFinally, since you are running 1.5.13 with the SPDY module compiled into it, you might as well use it! You get a whole host of performance benefits with it (although it has no impact on the SSL negotiation other than you only have to do it once per page view). You only need to add a few changes to your Nginx config file:\n\n1. Enable SPDY\n2. Announce SPDY\n\nEnabling SPDY will remove all of the extra purple and orange in your waterfall for the low cost of two lines of config.",
            "date_published": "2014-04-22T16:10:54-06:00",
            "authors": [
                {
                    "name": "Zack Tollman",
                    "url": "http://tollmanz.com",
                    "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "Zack Tollman",
                "url": "http://tollmanz.com",
                "avatar": "https://secure.gravatar.com/avatar/980df66b142b2a067b3f8b67b04352de?s=512&d=mm&r=g"
            }
        }
    ]
}