<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>WordPress &#8211; Joseph Scott</title>
	<atom:link href="/category/wordpress/feed/" rel="self" type="application/rss+xml" />
	<link>/</link>
	<description></description>
	<lastBuildDate>Fri, 01 Apr 2005 20:08:17 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.7.2</generator>
	<atom:link rel='hub' href='/?pushpress=hub'/>
	<item>
		<title>WordPress Spam, PhotoMatt Responds</title>
		<link>/2005/04/01/wordpress-spam-photomatt-responds/</link>
					<comments>/2005/04/01/wordpress-spam-photomatt-responds/#respond</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Fri, 01 Apr 2005 20:08:17 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2005/04/01/wordpress-spam-photomatt-responds/</guid>

					<description><![CDATA[Yesterday Matt wrote about discovering the backlash to the articles that were posted on wordpress.org. Today Matt responded to the noise about this issue. If you&#8217;ve been following this at all you need to go read his response. After reading through his response I&#8217;m left with overall feeling that Matt meant well but is rather [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Yesterday Matt <a href="http://photomatt.net/2005/03/31/back-online/">wrote about discovering the backlash</a> to the articles that were posted on wordpress.org.  Today Matt <a href="http://photomatt.net/2005/04/01/a-response/">responded to the noise</a> about this issue.  If you&#8217;ve been following this at all you need to go read his response.</p>
<p>After reading through his response I&#8217;m left with overall feeling that Matt meant well but is rather naive.  It is entirely possible that this is an aspect of his age or experience and not his intelligence.  It really is rather amazing though that someone who spent so much time and energy into <a href="http://www.google.com/googleblog/2005/01/preventing-comment-spam.html">supporting rel=&#8221;nofollow&#8221;</a> could imagine that putting up all these articles would be acceptable.  And the whole cloaked links thing, ug, at least he came out and said that was a bad thing.</p>
<p>I&#8217;m left feeling disappointed.  Will I stop using WP because of it?  No.  Will I be a lot more skeptical of Matt&#8217;s ideas in the future, probably.  Trust, it is not easy to gain and real pain when it is gone.</p>
]]></content:encoded>
					
					<wfw:commentRss>/2005/04/01/wordpress-spam-photomatt-responds/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Open Source and Money (Shame on WordPress and PhotoMatt)</title>
		<link>/2005/03/30/open-source-and-money/</link>
					<comments>/2005/03/30/open-source-and-money/#comments</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Wed, 30 Mar 2005 22:57:14 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2005/03/30/open-source-and-money/</guid>

					<description><![CDATA[One of the most difficult aspects of open source projects is money. Often times work is done on free time and project resources are paid for out of pocket. If you are really lucky you have some one who is paid by their company to contribute part of their time to project. Either way, the [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>One of the most difficult aspects of open source projects is money.  Often times work is done on free time and project resources are paid for out of pocket.  If you are really lucky you have some one who is paid by their company to contribute part of their time to project.  Either way, the issue of money rarely goes away.  It looks like <a href="http://photomatt.net/">Matt</a> and <a href="http://wordpress.org/">WordPress</a> are about to experience this in a very serious way.</p>
<p>Just a few days ago Matt announced the formation of WordPress Inc..  Virtually no details have be given out besides noting that <a href="http://jluster.org/">Jonas Luster</a> is the first employee of this new company.  Naturally this raises several questions:</p>
<ul>
<li>What is going to be the official relationship between the WP project and WP Inc?</li>
<li>How will the services and products that WP Inc. offer impact or relate to WP?</li>
<li>Will WP Inc. be making a closed source version of WP?</li>
<li>Are donations that were made to WP being used in any way to start WP Inc., or in any way </li>
</ul>
<p>For the most part I&#8217;ve been perfectly happy not asking these questions, Matt seems like a decent guy and figured he&#8217;d try to more or less do the right thing.  That situation seems to have changed.  Over at <a href="http://www.waxy.org/">Waxy.org</a> there is an article about the <a href="http://www.waxy.org/archive/2005/03/30/wordpres.shtml">WordPress site hosting search engine spam</a>.  In brief, there are entries at <a href="http://wordpress.org/articles/">wordpress.org/articles/</a> that are nothing but pure search engine spam.  And there are a lot of them, more than 100,000.  Matt didn&#8217;t disclose this fact to the community, but did comment on it when it was <a href="http://wordpress.org/support/topic.php?id=23657">brought up in the WP forum</a>.  Basically Matt was having a hard time keeping up with the money needed to keep things going and the donations weren&#8217;t covering enough of it.  The forum thread is no closed, so everyone will have to voice their opinions on this somewhere else.</p>
<p>I&#8217;m disappointed that someone who should know better didn&#8217;t something so ugly on the web.  I don&#8217;t like spam, I don&#8217;t want spam, and I sure don&#8217;t want more web sites spreading more spam.  It is even more disappointing to see this happen in an open source project because the hope is that such projects have great deal of transparency.  The last part of Matt&#8217;s comments also concern me:</p>
<blockquote><p>
&#8230; The money is used just like donations but more specifically it&#8217;s been going to the business/trademark expenses so it&#8217;s not entirely out of my pocket anymore.
</p></blockquote>
<p>It isn&#8217;t completely clear if donations are now being used to start WP Inc. or if only money from the spam is going to WP Inc..  Making money by spamming the web is wrong, it doesn&#8217;t matter if it is going to web the WP project or WP Inc., it is just wrong.  If donations to the WP project are being used to start/fund WP Inc., well that doesn&#8217;t seem quite right either.  Now there is a possible exception to this, if people who donated to the WP project are getting shares of WP Inc. then perhaps this would make things not look so bad.</p>
<p>I&#8217;m hoping this is something that Matt did in a moment of weakness (financial or otherwise) and moves quickly to fix the situation.  Too bad he&#8217;s <a href="http://photomatt.net/2005/03/25/wordpress-world-tour/">out of the country right now</a>.</p>
<p><strong>UPDATE 3:10pm 30 Mar 2005</strong>: Ug, it looks like things are even worse that then appeared originally, <a href="http://virtuelvis.com/archives/2005/03/wordpress-and-cloaking">links to the spam articles are being cloaked on wordpress.org</a>.  I&#8217;m starting to feel dirty by the fact that I&#8217;m still using WP.</p>
<p><strong>UPDATE 11:00pm 30 Mar 2005</strong>: There&#8217;s a <a href="http://www.jluster.org/2005/03/spam-matt-wordpressorg-and-i-am-exhausted-bad-mix">response from WP Inc. employee #1, Jonas Luster</a>.  He doesn&#8217;t like everyone calling this spam, I think that is a mistake.  You&#8217;ll have a hard time convincing most people that this isn&#8217;t spam, don&#8217;t even bother with that argument.  He does touch on one aspect of the problem, Matt did this in such a way that it was hidden from WP users.  I certainly would have not known about it waxy.org hadn&#8217;t mentioned it.  Jonas&#8217;s claim that this isn&#8217;t spam because it doesn&#8217;t involve a third party is completely wrong, it does.  It involves many Google users and everyone who has linked to wordpress.org, there by giving Matt the ability to do this in the first place.</p>
<p>It has been asked <a href="http://forevergeek.com/open_source/wordpress_making_money_the_wrong_way.php">if this is worse than what Six Apart did when they changed their licensing</a>.  In some ways I think it is worse, at least Six Apart didn&#8217;t try to hide the fact that their licensing.  On the other hand, WP is still open source and free.  Difficult to call, but I bet there will be several comparisons and questions like this in the future.</p>
<p><strong>UPDATE 11:30pm 30 Mar 2005</strong>: Something strange just popped into my head, would it be ironic if this issue got even more attention by being covered at <a href="http://news.com.com/">CNET News.com</a>, which is owned/operated by Matt&#8217;s employer, <a href="http://www.cnetnetworks.com/">CNET Networks</a>?</p>
<p><strong>UPDATE 5:20pm 31 Mar 2005</strong>: New developments, Yahoo and Google have pulled the spam articles out of their index.  The page rank Google gives to WP has dropped to almost nothing.  This is also being <a href="http://slashdot.org/article.pl?sid=05/03/31/196220&amp;from=rss">covered by Slashdot</a> (for better or for worse).  Jonas also has another <a href="http://www.jluster.org/2005/03/thank-you/">follow up entry about this</a>.</p>
<p>Those who are <a href="http://www.threadwatch.org/node/2106">complaining about the negative response</a> seem to be focusing on the calls for transparency and that this wasn&#8217;t really spam (and therefore there wasn&#8217;t anything wrong with this).  My complaints about the lack of transparency come from Matt&#8217;s attempt to do this without WP users knowing about it.  Instead of making a big public call for support and help in keeping his projects going and listing search engine spam as one solution he could have saved himself some of the backlash that is coming from this move.  As for not being spam, give me a break, that is all this is and that is why someone was willing to pay for these web pages.  The folks who paid Matt for these articles are the same type of folks who try to post comment and trackback spam to my blog and send me hundreds of email spam everyday.  It was spam, trying to avoid this term by calling it an &#8220;experiment&#8221; is an attempt to spin an obviously poor choice into to something less foolish.</p>
]]></content:encoded>
					
					<wfw:commentRss>/2005/03/30/open-source-and-money/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Begone Nofollow</title>
		<link>/2005/03/23/begone-nofollow/</link>
					<comments>/2005/03/23/begone-nofollow/#respond</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Thu, 24 Mar 2005 06:34:44 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[nofollow]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2005/03/23/begone-nofollow/</guid>

					<description><![CDATA[I&#8217;ve ripped out all of the nofollow tagging that WordPress was doing to the links in the comments. So feel free to comment away with the confidence that you&#8217;ll still get your Google Juice. Why did I bother doing this? Because it doesn&#8217;t work, I was still receiving hundreds and hundreds of spam comments after [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>I&#8217;ve ripped out all of the nofollow tagging that <a href="http://www.wordpress.org/">WordPress</a> was doing to the links in the comments.  So feel free to comment away with the confidence that you&#8217;ll still get your <a href="http://www.google.com/search?client=safari&amp;rls=en&amp;q=google+juice&amp;ie=UTF-8&amp;oe=UTF-8">Google Juice</a>.  Why did I bother doing this?  Because it doesn&#8217;t work, I was still receiving hundreds and hundreds of spam comments after my upgrade to WP 1.5.  So leaving it in there was only hurting those legit comments.  I&#8217;ll say it one more time, if your solution doesn&#8217;t PREVENT the problem, then it isn&#8217;t really a solution.</p>
]]></content:encoded>
					
					<wfw:commentRss>/2005/03/23/begone-nofollow/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Good and Bad, WordPress 1.5</title>
		<link>/2005/03/12/good-and-bad-wordpress-15/</link>
					<comments>/2005/03/12/good-and-bad-wordpress-15/#comments</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Sat, 12 Mar 2005 20:04:45 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2005/03/12/good-and-bad-wordpress-15/</guid>

					<description><![CDATA[As I&#8217;ve already noted, I&#8217;ve upgraded to WordPress 1.5. Unfortunately I&#8217;m not entirely happy with the results. It certainly isn&#8217;t all bad, there have been lots of improvements. The new default theme is visually much nicer than the original, but I don&#8217;t care for the feature changes. So at some point that will have to [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>As I&#8217;ve already <a href="http://joseph.randomnetworks.com/archives/2005/02/16/server-problems/">noted</a>, I&#8217;ve upgraded to WordPress 1.5.  Unfortunately I&#8217;m not entirely happy with the results.  It certainly isn&#8217;t all bad, there have been lots of improvements.  The new default theme is visually much nicer than the original, but I don&#8217;t care for the feature changes.  So at some point that will have to go.  In the short term I may just go with a theme from the <a href="http://www.alexking.org/index.php?content=software/wordpress/themes.php">WordPress theme competition</a>, in the long term I&#8217;d like to incorporate some of the features from <a href="http://www.meyerweb.com/">Eric Meyer&#8217;s site</a>.</p>
<p>There are lots of <a href="http://wordpress.org/development/2005/02/strayhorn/">other good things in WP 1.5</a>. I was disappointed to see <a href="http://www.google.com/googleblog/2005/01/preventing-comment-spam.html">rel=&#8221;nofollow&#8221;</a> automatically added to every link in every comment, without an option to turn it off.  One of the things on my to do list is to figure out how to prevent that from happening, even if I have to rip the code out.  While nofollow is a nice idea, it doesn&#8217;t do squat to prevent comment spam.  Since I&#8217;ve upgraded to WP 1.5 I&#8217;ve received more than 600 comments, virtually all of them spam.  The new moderation abilities made dealing with all this a bit easier, but prevention is the real solution.  To that end it would be nice to something like <a href="http://www.meyerweb.com/eric/tools/wordpress/wp-gatekeeper.html">WP-GateKeeper</a> part of the default install.</p>
<p>The default theme also broken/useless feed links.  I don&#8217;t know what the idea was behind that.  I&#8217;m also not 100% happy with my approach to links via regular link dumps.  Perhaps I&#8217;ll end up using something like <a href="http://del.icio.us/">del.icio.us</a>, but not completely satisfied with that either.  Some how I&#8217;ve got to find the time to work these things.</p>
]]></content:encoded>
					
					<wfw:commentRss>/2005/03/12/good-and-bad-wordpress-15/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>DIE COMMENT SPAM!</title>
		<link>/2005/01/01/die-comment-spam/</link>
					<comments>/2005/01/01/die-comment-spam/#comments</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Sun, 02 Jan 2005 04:43:00 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2005/01/01/die-comment-spam/</guid>

					<description><![CDATA[I&#8217;m now swimming in comment spam. There is a bot providing a constant flood as I&#8217;m typing this. As I&#8217;ve already noted, in the last 24 hours there have been more than 500 spam comments. So now I&#8217;ve been forced to bring out bigger guns, WordPress Plugin: AuthImage. DIE COMMENT SPAM!]]></description>
										<content:encoded><![CDATA[<p>I&#8217;m now swimming in comment spam.  There is a bot providing a constant flood as I&#8217;m typing this.  As I&#8217;ve already <a href="http://joseph.randomnetworks.com/archives/2005/01/01/comment-spam-wordpress-comment-moderation/">noted</a>, in the last 24 hours there have been more than 500 spam comments.  So now I&#8217;ve been forced to bring out bigger guns, <a href="http://www.gudlyf.com/index.php?p=376">WordPress Plugin: AuthImage</a>.</p>
<p>DIE COMMENT SPAM!</p>
]]></content:encoded>
					
					<wfw:commentRss>/2005/01/01/die-comment-spam/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>Comment Spam, WordPress Comment Moderation</title>
		<link>/2005/01/01/comment-spam-wordpress-comment-moderation/</link>
					<comments>/2005/01/01/comment-spam-wordpress-comment-moderation/#comments</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Sat, 01 Jan 2005 15:29:34 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<category><![CDATA[spam]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2005/01/01/comment-spam-wordpress-comment-moderation/</guid>

					<description><![CDATA[Nothing like having 350+ comments in the moderation queue to start off the new year. This is by far the biggest comment spam attack I&#8217;ve ever had here. I&#8217;ve noticed a couple of things as a result of this attack. One, this was done from a wide range of IP addresses in a fairly short [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Nothing like having 350+ comments in the moderation queue to start off the new year.  This is by far the biggest comment spam attack I&#8217;ve ever had here.  I&#8217;ve noticed a couple of things as a result of this attack.  One, this was done from a wide range of IP addresses in a fairly short period of time, so most likely a bot.  Two, I will have to got with more aggressive anti-spam methods here.  Even though it looks like all of the spam was tagged for moderation, it is a paid having to go through that many, even in WordPress.  Which leads me to number three, the comment moderation on my WordPress install is completely useless after more than 297 comments are in the queue.  Why you ask?  Because even though there are still more than 300 comments in the queue, it only displayed up to the start of 298 and then finished the page.  This means that the &#8216;moderate&#8217; button at the bottom of the page is never displayed.  I&#8217;m not sure if this is a bug in WordPress, or a specific limitation of my install (system not beefy enough, strange MySQL problem, strange PHP problem, etc).</p>
<p>If I get a chance I&#8217;ll try to setup a test system to throw 300+ comments into and see what happens.  In the mean time I&#8217;m definitely going to go after this problem with something more than just renaming the script that posts comments.</p>
<p><strong>UPDATE 1 Jan 2005 @ 7:40pm</strong>: Ick, another 50+ spam comments.  These actually got through though, because they only had 1 link in each one.  I was hoping to get additional spam protection done this week, I&#8217;ll have to bump that up to the next day or two.</p>
]]></content:encoded>
					
					<wfw:commentRss>/2005/01/01/comment-spam-wordpress-comment-moderation/feed/</wfw:commentRss>
			<slash:comments>3</slash:comments>
		
		
			</item>
		<item>
		<title>PhotoMatt off to CNet</title>
		<link>/2004/10/28/photomatt-off-to-cnet/</link>
					<comments>/2004/10/28/photomatt-off-to-cnet/#respond</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Thu, 28 Oct 2004 15:43:24 +0000</pubDate>
				<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2004/10/28/photomatt-off-to-cnet/</guid>

					<description><![CDATA[Matt&#8217;s big secret that has been brewing for awhile turned out to be a move and a new job at CNet. Congrats Matt.]]></description>
										<content:encoded><![CDATA[<p>Matt&#8217;s big secret that has been brewing for awhile turned out to be <a href="http://photomatt.net/2004/10/28/press-and-cnet/">a move and a new job at CNet</a>.  Congrats Matt.</p>
]]></content:encoded>
					
					<wfw:commentRss>/2004/10/28/photomatt-off-to-cnet/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Top Five WordPress SQL Queries</title>
		<link>/2004/10/28/top-five-wordpress-sql-queries/</link>
					<comments>/2004/10/28/top-five-wordpress-sql-queries/#comments</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Thu, 28 Oct 2004 07:00:41 +0000</pubDate>
				<category><![CDATA[Database]]></category>
		<category><![CDATA[MySQL]]></category>
		<category><![CDATA[PHP]]></category>
		<category><![CDATA[Programming]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2004/10/28/top-five-wordpress-sql-queries/</guid>

					<description><![CDATA[Recently I mentioned a tool to analyze database queries, PQA (Practical Query Analysis). Originally this tool was designed to work with PostgreSQL and now has some support for MySQL. So I turned on query logging for my MySQL server that hosts my WordPress back end. Then I put together a little script to run PQA [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Recently I <a href="http://joseph.randomnetworks.com/archives/2004/10/20/link-dump-2004-10-20/">mentioned</a> a tool to analyze database queries, <a href="http://pqa.projects.postgresql.org/">PQA (Practical Query Analysis)</a>.  Originally this tool was designed to work with <a href="http://www.postgresql.org/">PostgreSQL</a> and now has some support for <a href="http://www.mysql.com/">MySQL</a>.  So I turned on query logging for my MySQL server that hosts my <a href="http://www.wordpress.org/">WordPress</a> back end.  Then I put together a little script to run PQA against the MySQL query log:</p>
<blockquote><p>
#!/bin/sh</p>
<p>/home/joseph/bin/pqa.rb -file /var/db/mysql/query.log -top 5 -normalize -logtype mysql
</p></blockquote>
<p>Nothing fancy: told it where the log was, how many &#8220;top&#8221; queries I wanted, normalize the queries and that the this was for MySQL (instead of PostgreSQL).  I don&#8217;t get a lot of traffic to my site, so I&#8217;ve let the log run for almost a week to get a sample size of more than 100,000 queries.  Now that I&#8217;ve hit that here are the results:</p>
<blockquote><p>
######## Overall statistics<br />
101332 queries (150 unique) parsed in 27.470525 seconds<br />
######## Queries by type<br />
SELECTs: 101191  (100%)<br />
INSERTs: 35      (0%)<br />
UPDATEs: 44  (0%)<br />
DELETEs: 13      (0%)<br />
######## Most frequent queries<br />
16465 times: SELECT * FROM wp_users WHERE user_login = &#8221;<br />
14423 times: SELECT post_date, post_name FROM wp_posts WHERE ID = 0<br />
5391 times: SELECT option_name, option_value FROM wp_options<br />
5391 times: SELECT * FROM wp_users<br />
5347 times: SELECT * FROM wp_categories WHERE 0=0
</p></blockquote>
<p>Before I get into the queries themselves, lets talk about what other info this provided.  I&#8217;ve got 101,332 queries, of which there are only 150 unique queries.  PQA took about 27 seconds to process all of this info.  Far and away the most common type of query was SELECT, this shouldn&#8217;t come as any surprise.  A few INSERTS (new blog entries, comments, trackbacks, etc) and a few UPDATES (editing blog entries) and a few DELETES.  This isn&#8217;t quite normal because the DELETES were the result of a comment spam attack.  Fortunately there were only 13 of them so this doesn&#8217;t really impact our results much.</p>
<p>Now let take a look at the top five most executed queries and see what we can learn.</p>
<p><strong>#1 (16465/101332): SELECT * FROM wp_users WHERE user_login = &#8221;</strong><br />
The wp_users table keeps information about the registered users of a WordPress install, in this case I&#8217;m the only one.  What should strike you as odd is the WHERE clause in this query, it is looking for user details for a username that is empty.  My gut feeling is that this query should never, ever, ever be run by WordPress.  Unless your WordPress install allows for blank usernames then this query will always return an empty result set.  Unfortunately it will have to look through the wp_users table first (hopefully it is looking at an index on user_login) to determine this.  Being able to avoid more than 16% of the total queries should help with speed, especially on systems that are running several copies of WordPress.</p>
<p><strong>#2 (14423/101332): SELECT post_date, post_name FROM wp_posts WHERE ID = 0</strong><br />
As you can probably guess, the wp_posts table stores WordPress blog entries.  Unlike the #1 query this one looks like it might be reasonable, but once again that WHERE clause caught my eye and made me wonder.  So I started looking through all of the rows in the wp_posts table for my WordPress install.  None of them have an ID of 0.  Just like the first query I suspect that this query should never need to be run because it will always return nothing.  At this point I can&#8217;t say this with 100% certainty though because I don&#8217;t know enough about the WordPress internals.  My gut feeling is again that this query could be done away with, removing another 14% of the total queries.</p>
<p><strong>#3 (5391/101332): SELECT option_name, option_value FROM wp_options</strong><br />
This query doesn&#8217;t have a WHERE clause for me to pick on.  The wp_options table is used to store all of the different options that can be set for a WordPress install.  All this query does is fetch all of those options.  I doubt this has any possibilities for removal or optimization.</p>
<p><strong>#4 (5391/101332): SELECT * FROM wp_users</strong><br />
This should look familiar, the only difference between this query and #1 above is the lack of a WHERE clause.  I&#8217;ve got mixed feelings about this query.  On the one hand I&#8217;m suspect of most queries that simply do a SELECT *, especially without a WHERE clause to limit it.  What holds me back here is that I don&#8217;t think this query could be changed without a lot of changes to the source code of WordPress.  Unless you have a lot of users in your WordPress install there isn&#8217;t much (like none at all) optimization that can be done here.</p>
<p><strong>#5 (5347/101332): SELECT * FROM wp_categories WHERE 0=0</strong><br />
A new table to look at, wp_categories.  This is a small table that holds information about entry categories (big surprise eh?).  Once again our friend the WHERE clause provides with a bad feeling.  If you aren&#8217;t familiar with SQL, the clause 0=0 always evaluates to true.  In the context of this query it is completely useless.  Some of you might be saying, so what, how much of a penalty could something small be performance wise?  I asked myself the same question, so I put together a simple benchmark that ran this query with and without the WHERE 0=0 clause.  In my simple tests the addition of WHERE 0=0 on this query against my WordPress database added an additional 0.0001 seconds PER QUERY!  So why am I getting so excited about this, after all in my case that means that I&#8217;m only loosing about 1 second every two weeks, give or take.  Well you would be right, for me personally it won&#8217;t make a much of a difference, but for a system that hosts many WordPress installs it could add up very quickly.  Also this is one of those small optimizations that can add up when thrown together with other little optimizations through out the system.</p>
<p>So what have we learned from the top five WordPress queries?  Well, about 30% of the SELECTs could likely be done away with entirely (#1 and #2).  Another %5 of the SELECTs can gain a slight speed improvement of about one ten-thousandths of a second (#5).  I&#8217;ll definitely be using PQA to look at more queries on other projects in the future.</p>
<p>There are some things to keep in mind here.  These are total queries run over about one week, not all of them are being run on the same page necessarily.  It is entirely possible that each of these queries is being run without the other four being present for a given page.  I don&#8217;t think this is likely, but certainly a possibility.  Another data point that might be helpful is the number of page views turn the same time period.  I decided it wasn&#8217;t worth worrying about that at this point, since my focus was simply of the queries themselves.</p>
<p>For those of you who are now looking at me thinking, hey ding-a-ling, WordPress is an open source project, why don&#8217;t you take this information and send it to the developers so that everyone can benefit from this.  Well, I already did.  Alright that isn&#8217;t really true, I sent them some similar reports about other queries.  One example would be <a href="http://mosquito.wordpress.org/bug_view_page.php?bug_id=0000033">three queries with WHERE 1=1</a> in them.  I even included a diff.  You&#8217;ll notice that this was sent in back in June, more than 4 months ago and it is still open.  I haven&#8217;t been able to get much attention to getting these sorts of changes into the WordPress source.</p>
<p>If you are interested in doing some additional research yourself into some of the SQL queries that are used in WordPress check out my entry on <a href="http://joseph.randomnetworks.com/archives/2004/06/02/mysql-queries-in-wordpress/">MySQL Queries In WordPress</a>, which explains how to turn on displaying all the queries run at the bottom of each page.</p>
<p><strong>UPDATE 10:40am 11 Dec 2004</strong>: It was suggested in a comment (see #4) that 1=1 is a code optimization that is faster than checking to see if variable is empty first.  See comment #5 for my response.  Bottom line: my simple tests show that 1=1 is always slower than if(empty($some_var)) and that 1=1 breaks simple scalability schemes (multiple front end web servers, one big db server).</p>
]]></content:encoded>
					
					<wfw:commentRss>/2004/10/28/top-five-wordpress-sql-queries/feed/</wfw:commentRss>
			<slash:comments>6</slash:comments>
		
		
			</item>
		<item>
		<title>WordPress Update</title>
		<link>/2004/10/15/wordpress-update/</link>
					<comments>/2004/10/15/wordpress-update/#respond</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Fri, 15 Oct 2004 16:47:41 +0000</pubDate>
				<category><![CDATA[Blogging]]></category>
		<category><![CDATA[Web]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2004/10/15/wordpress-update/</guid>

					<description><![CDATA[I&#8217;ve updated my install of WordPress to version 1.2.1. For now I&#8217;ve gone back to the default theme and index.ph while I try and repair my custom index.php. It appears to have been partially munched during a restore from backup a couple of days ðŸ™]]></description>
										<content:encoded><![CDATA[<p>I&#8217;ve updated my install of WordPress to version 1.2.1.  For now I&#8217;ve gone back to the default theme and index.ph while I try and repair my custom index.php.  It appears to have been partially munched during a restore from backup a couple of days <img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f641.png" alt="ðŸ™" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
]]></content:encoded>
					
					<wfw:commentRss>/2004/10/15/wordpress-update/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>WordPress Using PostgreSQL</title>
		<link>/2004/08/17/wordpress-using-postgresql/</link>
					<comments>/2004/08/17/wordpress-using-postgresql/#respond</comments>
		
		<dc:creator><![CDATA[josephscott]]></dc:creator>
		<pubDate>Tue, 17 Aug 2004 14:21:23 +0000</pubDate>
				<category><![CDATA[Database]]></category>
		<category><![CDATA[PostgreSQL]]></category>
		<category><![CDATA[WordPress]]></category>
		<guid isPermaLink="false">http://joseph.randomnetworks.com/archives/2004/08/17/wordpress-using-postgresql/</guid>

					<description><![CDATA[Nice to see there are other people out there who are interested in running WordPress on PostgreSQL instead of MySQL. It is even better to see that someone took the time to do an initial port of WordPress 1.2 to use PostgreSQL (WordPress-PG). Here is Keenan Tims announcement on wp-hackers. I wonder what the best [&#8230;]]]></description>
										<content:encoded><![CDATA[<p>Nice to see there are other people out there who are interested in running <a href="http://www.wordpress.org/">WordPress</a> on <a href="http://www.postgresql.org/">PostgreSQL</a> instead of <a href="http://www.mysql.com/">MySQL</a>.  It is even better to see that someone took the time to do an initial port of <a href="http://www.gotroot.ca/wordpress-pg/">WordPress 1.2 to use PostgreSQL (WordPress-PG)</a>.  Here is Keenan Tims <a href="http://wordpress.org/pipermail/hackers_wordpress.org/2004-August/001266.html">announcement on wp-hackers</a>.  I wonder what the best way to continue support of PostgreSQL in WordPress is as new versions are released?  There are so many things I&#8217;d like to dig in and spend time on but don&#8217;t have enough time to do them all <img src="https://s.w.org/images/core/emoji/13.0.1/72x72/1f641.png" alt="ðŸ™" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
]]></content:encoded>
					
					<wfw:commentRss>/2004/08/17/wordpress-using-postgresql/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
