<!DOCTYPE html>
<html class="no-js" lang="en-US">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="profile" href="https://gmpg.org/xfn/11"> <meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@josephscott">
<meta name="twitter:site" content="@josephscott">
<meta name="twitter:title" content="I Don&#8217;t Like PHP&#8217;s extract() Function">
<meta name="twitter:description" content="When looking at PHP code that I&#039;m not familiar with a common task is back tracking what operations were done to a variable for it to end up in it&#039;s current state. More often than not this means lookin"> <link media="all" href="/wp-content/cache/autoptimize/css/autoptimize_da876478aa27b35cb47c491625986a1f.css" rel="stylesheet">
<link media="print" href="/wp-content/cache/autoptimize/css/autoptimize_4a8bc5d490127fba1e504524cfa205e6.css" rel="stylesheet">
<title>I Don&#8217;t Like PHP&#8217;s extract() Function &#8211; Joseph Scott</title>
<meta name="robots" content="max-image-preview:large">
<link rel="alternate" type="application/rss+xml" title="Joseph Scott &raquo; Feed" href="/feed/">
<link rel="alternate" type="application/rss+xml" title="Joseph Scott &raquo; Comments Feed" href="/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Joseph Scott &raquo; I Don&#8217;t Like PHP&#8217;s extract() Function Comments Feed" href="/2009/02/05/i-dont-like-phps-extract-function/feed/">
<style id="twentytwenty-style-inline-css">.color-accent,.color-accent-hover:hover,.color-accent-hover:focus,:root .has-accent-color,.has-drop-cap:not(:focus):first-letter,.wp-block-button.is-style-outline,a { color: #e20842; }blockquote,.border-color-accent,.border-color-accent-hover:hover,.border-color-accent-hover:focus { border-color: #e20842; }button,.button,.faux-button,.wp-block-button__link,.wp-block-file .wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.bg-accent,.bg-accent-hover:hover,.bg-accent-hover:focus,:root .has-accent-background-color,.comment-reply-link { background-color: #e20842; }.fill-children-accent,.fill-children-accent * { fill: #e20842; }:root .has-background-color,button,.button,.faux-button,.wp-block-button__link,.wp-block-file__button,input[type="button"],input[type="reset"],input[type="submit"],.wp-block-button,.comment-reply-link,.has-background.has-primary-background-color:not(.has-text-color),.has-background.has-primary-background-color *:not(.has-text-color),.has-background.has-accent-background-color:not(.has-text-color),.has-background.has-accent-background-color *:not(.has-text-color) { color: #f7f7f7; }:root .has-background-background-color { background-color: #f7f7f7; }body,.entry-title a,:root .has-primary-color { color: #000000; }:root .has-primary-background-color { background-color: #000000; }cite,figcaption,.wp-caption-text,.post-meta,.entry-content .wp-block-archives li,.entry-content .wp-block-categories li,.entry-content .wp-block-latest-posts li,.wp-block-latest-comments__comment-date,.wp-block-latest-posts__post-date,.wp-block-embed figcaption,.wp-block-image figcaption,.wp-block-pullquote cite,.comment-metadata,.comment-respond .comment-notes,.comment-respond .logged-in-as,.pagination .dots,.entry-content hr:not(.has-background),hr.styled-separator,:root .has-secondary-color { color: #686868; }:root .has-secondary-background-color { background-color: #686868; }pre,fieldset,input,textarea,table,table *,hr { border-color: #d3d3d3; }caption,code,code,kbd,samp,.wp-block-table.is-style-stripes tbody tr:nth-child(odd),:root .has-subtle-background-background-color { background-color: #d3d3d3; }.wp-block-table.is-style-stripes { border-bottom-color: #d3d3d3; }.wp-block-latest-posts.is-grid li { border-top-color: #d3d3d3; }:root .has-subtle-background-color { color: #d3d3d3; }body:not(.overlay-header) .primary-menu > li > a,body:not(.overlay-header) .primary-menu > li > .icon,.modal-menu a,.footer-menu a, .footer-widgets a,#site-footer .wp-block-button.is-style-outline,.wp-block-pullquote:before,.singular:not(.overlay-header) .entry-header a,.archive-header a,.header-footer-group .color-accent,.header-footer-group .color-accent-hover:hover { color: #e20842; }.social-icons a,#site-footer button:not(.toggle),#site-footer .button,#site-footer .faux-button,#site-footer .wp-block-button__link,#site-footer .wp-block-file__button,#site-footer input[type="button"],#site-footer input[type="reset"],#site-footer input[type="submit"] { background-color: #e20842; }.social-icons a,body:not(.overlay-header) .primary-menu ul,.header-footer-group button,.header-footer-group .button,.header-footer-group .faux-button,.header-footer-group .wp-block-button:not(.is-style-outline) .wp-block-button__link,.header-footer-group .wp-block-file__button,.header-footer-group input[type="button"],.header-footer-group input[type="reset"],.header-footer-group input[type="submit"] { color: #f7f7f7; }#site-header,.footer-nav-widgets-wrapper,#site-footer,.menu-modal,.menu-modal-inner,.search-modal-inner,.archive-header,.singular .entry-header,.singular .featured-media:before,.wp-block-pullquote:before { background-color: #f7f7f7; }.header-footer-group,body:not(.overlay-header) #site-header .toggle,.menu-modal .toggle { color: #000000; }body:not(.overlay-header) .primary-menu ul { background-color: #000000; }body:not(.overlay-header) .primary-menu > li > ul:after { border-bottom-color: #000000; }body:not(.overlay-header) .primary-menu ul ul:after { border-left-color: #000000; }.site-description,body:not(.overlay-header) .toggle-inner .toggle-text,.widget .post-date,.widget .rss-date,.widget_archive li,.widget_categories li,.widget cite,.widget_pages li,.widget_meta li,.widget_nav_menu li,.powered-by-wordpress,.to-the-top,.singular .entry-header .post-meta,.singular:not(.overlay-header) .entry-header .post-meta a { color: #686868; }.header-footer-group pre,.header-footer-group fieldset,.header-footer-group input,.header-footer-group textarea,.header-footer-group table,.header-footer-group table *,.footer-nav-widgets-wrapper,#site-footer,.menu-modal nav *,.footer-widgets-outer-wrapper,.footer-top { border-color: #d3d3d3; }.header-footer-group table caption,body:not(.overlay-header) .header-inner .toggle-wrapper::before { background-color: #d3d3d3; }.overlay-header .header-inner { color: #f7f7f7; }.cover-header .entry-header * { color: #f7f7f7; }</style>
<link rel="https://api.w.org/" href="/wp-json/">
<link rel="alternate" type="application/json" href="/wp-json/wp/v2/posts/8044">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml">
<meta name="generator" content="WordPress 5.7.2">
<link rel="canonical" href="/2009/02/05/i-dont-like-phps-extract-function/">
<link rel="shortlink" href="/?p=8044">
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2009%2F02%2F05%2Fi-dont-like-phps-extract-function%2F">
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=https%3A%2F%2F%2F2009%2F02%2F05%2Fi-dont-like-phps-extract-function%2F&#038;format=xml">
<link rel="alternate" type="application/feed+json" title="Joseph Scott &raquo; JSON Feed" href="/feed/json/">
<link rel="alternate" type="application/feed+json" title="Joseph Scott &raquo; I Don&#8217;t Like PHP&#8217;s extract() Function Comments Feed" href="/2009/02/05/i-dont-like-phps-extract-function/feed/json/"> <script>document.documentElement.className = document.documentElement.className.replace( 'no-js', 'js' );</script> <style id="custom-background-css">body.custom-background { background-color: #f7f7f7; }</style>
<style id="wp-custom-css">.powered-by-wordpress { display: none;}

.entry-categories { display: none;}</style>
</head>
<body class="post-template-default single single-post postid-8044 single-format-standard custom-background wp-embed-responsive singular enable-search-modal missing-post-thumbnail has-single-pagination showing-comments show-avatars footer-top-visible reduced-spacing"> <a class="skip-link screen-reader-text" href="#site-content">Skip to the content</a><header id="site-header" class="header-footer-group" role="banner"><div class="header-inner section-inner">
<div class="header-titles-wrapper"> <button class="toggle search-toggle mobile-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false"> <span class="toggle-inner"> <span class="toggle-icon"> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg> </span> <span class="toggle-text">Search</span> </span> </button><div class="header-titles"><div class="site-title faux-heading"><a href="/">Joseph Scott</a></div></div> <button class="toggle nav-toggle mobile-nav-toggle" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".close-nav-toggle"> <span class="toggle-inner"> <span class="toggle-icon"> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="26" height="7" viewbox="0 0 26 7"><path fill-rule="evenodd" d="M332.5,45 C330.567003,45 329,43.4329966 329,41.5 C329,39.5670034 330.567003,38 332.5,38 C334.432997,38 336,39.5670034 336,41.5 C336,43.4329966 334.432997,45 332.5,45 Z M342,45 C340.067003,45 338.5,43.4329966 338.5,41.5 C338.5,39.5670034 340.067003,38 342,38 C343.932997,38 345.5,39.5670034 345.5,41.5 C345.5,43.4329966 343.932997,45 342,45 Z M351.5,45 C349.567003,45 348,43.4329966 348,41.5 C348,39.5670034 349.567003,38 351.5,38 C353.432997,38 355,39.5670034 355,41.5 C355,43.4329966 353.432997,45 351.5,45 Z" transform="translate(-329 -38)"></path></svg> </span> <span class="toggle-text">Menu</span> </span> </button>
</div>
<div class="header-navigation-wrapper">
<nav class="primary-menu-wrapper" aria-label="Horizontal" role="navigation"><ul class="primary-menu reset-list-style">
<li id="menu-item-7" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7"><a href="https://josephscott.org/">Home</a></li>
<li id="menu-item-8" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-8"><a href="/">Blog</a></li>
<li id="menu-item-15706" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-15706"><a href="/contact/">Contact</a></li>
</ul></nav><div class="header-toggles hide-no-js"><div class="toggle-wrapper search-toggle-wrapper"> <button class="toggle search-toggle desktop-search-toggle" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field" aria-expanded="false"> <span class="toggle-inner"> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="23" height="23" viewbox="0 0 23 23"><path d="M38.710696,48.0601792 L43,52.3494831 L41.3494831,54 L37.0601792,49.710696 C35.2632422,51.1481185 32.9839107,52.0076499 30.5038249,52.0076499 C24.7027226,52.0076499 20,47.3049272 20,41.5038249 C20,35.7027226 24.7027226,31 30.5038249,31 C36.3049272,31 41.0076499,35.7027226 41.0076499,41.5038249 C41.0076499,43.9839107 40.1481185,46.2632422 38.710696,48.0601792 Z M36.3875844,47.1716785 C37.8030221,45.7026647 38.6734666,43.7048964 38.6734666,41.5038249 C38.6734666,36.9918565 35.0157934,33.3341833 30.5038249,33.3341833 C25.9918565,33.3341833 22.3341833,36.9918565 22.3341833,41.5038249 C22.3341833,46.0157934 25.9918565,49.6734666 30.5038249,49.6734666 C32.7048964,49.6734666 34.7026647,48.8030221 36.1716785,47.3875844 C36.2023931,47.347638 36.2360451,47.3092237 36.2726343,47.2726343 C36.3092237,47.2360451 36.347638,47.2023931 36.3875844,47.1716785 Z" transform="translate(-20 -31)"></path></svg> <span class="toggle-text">Search</span> </span> </button>
</div></div>
</div>
</div>
<div class="search-modal cover-modal header-footer-group" data-modal-target-string=".search-modal"><div class="search-modal-inner modal-inner"><div class="section-inner">
<form role="search" aria-label="Search for:" method="get" class="search-form" action="/"> <label for="search-form-1"> <span class="screen-reader-text">Search for:</span> <input type="search" id="search-form-1" class="search-field" placeholder="Search &hellip;" value="" name="s"> </label> <input type="submit" class="search-submit" value="Search">
</form> <button class="toggle search-untoggle close-search-toggle fill-children-current-color" data-toggle-target=".search-modal" data-toggle-body-class="showing-search-modal" data-set-focus=".search-modal .search-field"> <span class="screen-reader-text">Close search</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg> </button>
</div></div></div></header><div class="menu-modal cover-modal header-footer-group" data-modal-target-string=".menu-modal"><div class="menu-modal-inner modal-inner"><div class="menu-wrapper section-inner">
<div class="menu-top"> <button class="toggle close-nav-toggle fill-children-current-color" data-toggle-target=".menu-modal" data-toggle-body-class="showing-menu-modal" aria-expanded="false" data-set-focus=".menu-modal"> <span class="toggle-text">Close Menu</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><polygon fill="" fill-rule="evenodd" points="6.852 7.649 .399 1.195 1.445 .149 7.899 6.602 14.352 .149 15.399 1.195 8.945 7.649 15.399 14.102 14.352 15.149 7.899 8.695 1.445 15.149 .399 14.102"></polygon></svg> </button><nav class="mobile-menu" aria-label="Mobile" role="navigation"><ul class="modal-menu reset-list-style">
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7"><div class="ancestor-wrapper"><a href="https://josephscott.org/">Home</a></div></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-8"><div class="ancestor-wrapper"><a href="/">Blog</a></div></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-15706"><div class="ancestor-wrapper"><a href="/contact/">Contact</a></div></li>
</ul></nav>
</div>
<div class="menu-bottom"></div>
</div></div></div>
<main id="site-content" role="main"><article class="post-8044 post type-post status-publish format-standard hentry category-posts tag-extract tag-php" id="post-8044"><header class="entry-header has-text-align-center header-footer-group"><div class="entry-header-inner section-inner medium">
<div class="entry-categories"> <span class="screen-reader-text">Categories</span><div class="entry-categories-inner"> <a href="/category/posts/" rel="category tag">Posts</a>
</div>
</div>
<h1 class="entry-title">I Don&#8217;t Like PHP&#8217;s extract() Function</h1>
<div class="post-meta-wrapper post-meta-single post-meta-single-top"><ul class="post-meta">
<li class="post-author meta-wrapper"> <span class="meta-icon"> <span class="screen-reader-text">Post author</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewbox="0 0 18 20"><path fill="" d="M18,19 C18,19.5522847 17.5522847,20 17,20 C16.4477153,20 16,19.5522847 16,19 L16,17 C16,15.3431458 14.6568542,14 13,14 L5,14 C3.34314575,14 2,15.3431458 2,17 L2,19 C2,19.5522847 1.55228475,20 1,20 C0.44771525,20 0,19.5522847 0,19 L0,17 C0,14.2385763 2.23857625,12 5,12 L13,12 C15.7614237,12 18,14.2385763 18,17 L18,19 Z M9,10 C6.23857625,10 4,7.76142375 4,5 C4,2.23857625 6.23857625,0 9,0 C11.7614237,0 14,2.23857625 14,5 C14,7.76142375 11.7614237,10 9,10 Z M9,8 C10.6568542,8 12,6.65685425 12,5 C12,3.34314575 10.6568542,2 9,2 C7.34314575,2 6,3.34314575 6,5 C6,6.65685425 7.34314575,8 9,8 Z"></path></svg> </span> <span class="meta-text"> By <a href="/author/josephscott/">josephscott</a> </span>
</li>
<li class="post-date meta-wrapper"> <span class="meta-icon"> <span class="screen-reader-text">Post date</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewbox="0 0 18 19"><path fill="" d="M4.60069444,4.09375 L3.25,4.09375 C2.47334957,4.09375 1.84375,4.72334957 1.84375,5.5 L1.84375,7.26736111 L16.15625,7.26736111 L16.15625,5.5 C16.15625,4.72334957 15.5266504,4.09375 14.75,4.09375 L13.3993056,4.09375 L13.3993056,4.55555556 C13.3993056,5.02154581 13.0215458,5.39930556 12.5555556,5.39930556 C12.0895653,5.39930556 11.7118056,5.02154581 11.7118056,4.55555556 L11.7118056,4.09375 L6.28819444,4.09375 L6.28819444,4.55555556 C6.28819444,5.02154581 5.9104347,5.39930556 5.44444444,5.39930556 C4.97845419,5.39930556 4.60069444,5.02154581 4.60069444,4.55555556 L4.60069444,4.09375 Z M6.28819444,2.40625 L11.7118056,2.40625 L11.7118056,1 C11.7118056,0.534009742 12.0895653,0.15625 12.5555556,0.15625 C13.0215458,0.15625 13.3993056,0.534009742 13.3993056,1 L13.3993056,2.40625 L14.75,2.40625 C16.4586309,2.40625 17.84375,3.79136906 17.84375,5.5 L17.84375,15.875 C17.84375,17.5836309 16.4586309,18.96875 14.75,18.96875 L3.25,18.96875 C1.54136906,18.96875 0.15625,17.5836309 0.15625,15.875 L0.15625,5.5 C0.15625,3.79136906 1.54136906,2.40625 3.25,2.40625 L4.60069444,2.40625 L4.60069444,1 C4.60069444,0.534009742 4.97845419,0.15625 5.44444444,0.15625 C5.9104347,0.15625 6.28819444,0.534009742 6.28819444,1 L6.28819444,2.40625 Z M1.84375,8.95486111 L1.84375,15.875 C1.84375,16.6516504 2.47334957,17.28125 3.25,17.28125 L14.75,17.28125 C15.5266504,17.28125 16.15625,16.6516504 16.15625,15.875 L16.15625,8.95486111 L1.84375,8.95486111 Z"></path></svg> </span> <span class="meta-text"> <a href="/2009/02/05/i-dont-like-phps-extract-function/">Thu 5 Feb 2009</a> </span>
</li>
<li class="post-comment-link meta-wrapper"> <span class="meta-icon"> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewbox="0 0 19 19"><path d="M9.43016863,13.2235931 C9.58624731,13.094699 9.7823475,13.0241935 9.98476849,13.0241935 L15.0564516,13.0241935 C15.8581553,13.0241935 16.5080645,12.3742843 16.5080645,11.5725806 L16.5080645,3.44354839 C16.5080645,2.64184472 15.8581553,1.99193548 15.0564516,1.99193548 L3.44354839,1.99193548 C2.64184472,1.99193548 1.99193548,2.64184472 1.99193548,3.44354839 L1.99193548,11.5725806 C1.99193548,12.3742843 2.64184472,13.0241935 3.44354839,13.0241935 L5.76612903,13.0241935 C6.24715123,13.0241935 6.63709677,13.4141391 6.63709677,13.8951613 L6.63709677,15.5301903 L9.43016863,13.2235931 Z M3.44354839,14.766129 C1.67980032,14.766129 0.25,13.3363287 0.25,11.5725806 L0.25,3.44354839 C0.25,1.67980032 1.67980032,0.25 3.44354839,0.25 L15.0564516,0.25 C16.8201997,0.25 18.25,1.67980032 18.25,3.44354839 L18.25,11.5725806 C18.25,13.3363287 16.8201997,14.766129 15.0564516,14.766129 L10.2979143,14.766129 L6.32072889,18.0506004 C5.75274472,18.5196577 4.89516129,18.1156602 4.89516129,17.3790323 L4.89516129,14.766129 L3.44354839,14.766129 Z"></path></svg> </span> <span class="meta-text"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comments">26 Comments<span class="screen-reader-text"> on I Don&#8217;t Like PHP&#8217;s extract() Function</span></a> </span>
</li>
</ul></div>
</div></header><div class="post-inner thin "><div class="entry-content">
<p>When looking at PHP code that I&#8217;m not familiar with a common task is back tracking what operations were done to a variable for it to end up in it&#8217;s current state. More often than not this means looking through dozens of lines of code in a function or method. First on my list is often figuring out how a variable came to be in the function in the first place. Was it a global, function argument, class variable or a return value from another function? Knowing this helps me determine if I need to start looking outside the function.</p>
<p>Then there are the times that I can&#8217;t find any reference to where a variable came from at all. It&#8217;s just suddenly being used. One way that happens is through the <a href="http://us.php.net/extract">extract</a> function. You pass it an array and it injects the array items into the current symbol table. This makes backtracking variable information a real pain. Here&#8217;s a basic example to give you an idea:</p>
<pre class="line-numbers"><code class="language-php">function say_hello( $person_info ) {
    extract( $person_info );

    //  ... imagine another 75 lines of code here

    print "Hello {$name}!n";
}</code></pre>
<p>If I was looking to find out more about the $name variable there&#8217;s no obvious information. A simple search for the variable name shows it only ever being used once. No hint as to where it came from or how it got there in the first place. It isn&#8217;t until you catch the extract() call that you realize that it came from the $person_info function argument, but there&#8217;s nothing that an easy search operation will do to tell you that. If there is more than one extract() call in the function then you have to start adding debug code and running it just to determine which extract() created the variable.</p>
<p>I like to be able to easily tell where variables came from. Operations that magically insert variables into the current symbol table make that task a lot harder. And there&#8217;s no reason that you&#8217;d ever have to use extract(), it&#8217;s purely for convenience. A convenience that can make life harder for others and for yourself when debugging code you haven&#8217;t looked at in years.</p>
<p>There&#8217;s a companion function to extract() called <a href="http://us.php.net/manual/en/function.compact.php">compact</a>, which does the opposite. It takes a list of variable names and creates an array. I don&#8217;t have any problem with this because it&#8217;s not hiding where the data for the new array came from.</p>
</div></div>
<div class="section-inner"><div class="post-meta-wrapper post-meta-single post-meta-single-bottom"><ul class="post-meta"><li class="post-tags meta-wrapper"> <span class="meta-icon"> <span class="screen-reader-text">Tags</span> <svg class="svg-icon" aria-hidden="true" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewbox="0 0 18 18"><path fill="" d="M15.4496399,8.42490555 L8.66109799,1.63636364 L1.63636364,1.63636364 L1.63636364,8.66081885 L8.42522727,15.44178 C8.57869221,15.5954158 8.78693789,15.6817418 9.00409091,15.6817418 C9.22124393,15.6817418 9.42948961,15.5954158 9.58327627,15.4414581 L15.4486339,9.57610048 C15.7651495,9.25692435 15.7649133,8.74206554 15.4496399,8.42490555 Z M16.6084423,10.7304545 L10.7406818,16.59822 C10.280287,17.0591273 9.65554997,17.3181054 9.00409091,17.3181054 C8.35263185,17.3181054 7.72789481,17.0591273 7.26815877,16.5988788 L0.239976954,9.57887876 C0.0863319284,9.4254126 0,9.21716044 0,9 L0,0.818181818 C0,0.366312477 0.366312477,0 0.818181818,0 L9,0 C9.21699531,0 9.42510306,0.0862010512 9.57854191,0.239639906 L16.6084423,7.26954545 C17.5601275,8.22691012 17.5601275,9.77308988 16.6084423,10.7304545 Z M5,6 C4.44771525,6 4,5.55228475 4,5 C4,4.44771525 4.44771525,4 5,4 C5.55228475,4 6,4.44771525 6,5 C6,5.55228475 5.55228475,6 5,6 Z"></path></svg> </span> <span class="meta-text"> <a href="/tag/extract/" rel="tag">extract</a>, <a href="/tag/php/" rel="tag">PHP</a> </span>
</li></ul></div></div>
<nav class="pagination-single section-inner" aria-label="Post" role="navigation"><hr class="styled-separator is-style-wide" aria-hidden="true">
<div class="pagination-single-inner"> <a class="previous-post" href="/2009/02/05/the-constitution-of-the-united-states-amendments-21-24/"> <span class="arrow" aria-hidden="true">&larr;</span> <span class="title"><span class="title-inner">The Constitution of the United States: Amendments 21-24</span></span> </a> <a class="next-post" href="/2009/02/10/the-constitution-of-the-united-states-amendments-25-27/"> <span class="arrow" aria-hidden="true">&rarr;</span> <span class="title"><span class="title-inner">The Constitution of the United States: Amendments 25-27</span></span> </a>
</div>
<hr class="styled-separator is-style-wide" aria-hidden="true"></nav><div class="comments-wrapper section-inner">
<div class="comments" id="comments">
<div class="comments-header section-inner small max-percentage"><h2 class="comment-reply-title"> 26 replies on &ldquo;I Don&#8217;t Like PHP&#8217;s extract() Function&rdquo;</h2></div>
<div class="comments-inner section-inner thin max-percentage">
<div id="comment-2674" class="comment even thread-even depth-1"><article id="div-comment-2674" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://angelo.mandato.com/" rel="external nofollow" class="url"><img id="grav-b90f2940d863e219ef05f655f6193aa8-120-60d16a815f405" alt="Angelo Mandato" src="/wp-content/uploads/gravatar-cache/b90f2940d863e219ef05f655f6193aa8-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Angelo Mandato</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2674"><time datetime="2009-02-05T10:49:09-07:00" title="Thu 5 Feb 2009 at 10:49 am">Thu 5 Feb 2009 at 10:49 am</time></a>
</div></footer><div class="comment-content entry-content">
<p>I agree!</p>
<p>The first time I&#8217;ve seen the use of extract() and compact() was while I was tracing through WordPress source code. I find it makes code less readable. I think open source software would try to be as readable as possible and the use of these functions don&#8217;t help. You also run the risk of including variables in your extract that you did not intend to be their.</p>
<p>I personally think the associative array is the most powerful feature in PHP and should be used in place of extract() calls when ever possible. It&#8217;s readable and keeps values well organized. Why not abandon the extract() and compact() calls and just deal with the array directly?</p>
<p>e.g.</p>
<p>print &#8220;Hello {$person_info[&#8216;name&#8217;]}!n&#8221;;</p>
</div></article></div>
<div id="comment-2675" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2675" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a815fc23" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2675"><time datetime="2009-02-05T16:30:21-07:00" title="Thu 5 Feb 2009 at 4:30 pm">Thu 5 Feb 2009 at 4:30 pm</time></a>
</div></footer><div class="comment-content entry-content"><p>I&#8217;m a fan of the associative arrays and agree, I&#8217;d like to see direct use of them instead of extract()&#8217;ing them into the name space.</p></div></article></div>
<div id="comment-2676" class="comment even thread-even depth-1"><article id="div-comment-2676" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-fef22f841ddf155476b0823225a8fdc3-120-60d16a81643b1" alt="Rick" src="/wp-content/uploads/gravatar-cache/fef22f841ddf155476b0823225a8fdc3-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Rick</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2676"><time datetime="2009-03-27T22:56:51-06:00" title="Fri 27 Mar 2009 at 10:56 pm">Fri 27 Mar 2009 at 10:56 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>extract() is great when used appropriately. For example, variables in an html template. You can assign data to a view object, the object can hold that data in an associative array, you render the view object and it extracts the associative array and includes an html template.</p>
<p>Without extract:</p>
<p>With extract:</p>
</div></article></div>
<div id="comment-2677" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2677" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-fef22f841ddf155476b0823225a8fdc3-120-60d16a8168749" alt="Rick" src="/wp-content/uploads/gravatar-cache/fef22f841ddf155476b0823225a8fdc3-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Rick</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2677"><time datetime="2009-03-27T23:00:13-06:00" title="Fri 27 Mar 2009 at 11:00 pm">Fri 27 Mar 2009 at 11:00 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>I&#8217;ll try again.</p>
<p>Without extract:<br> &#8230;some html&#8230; &#8230;some html&#8230;<br> With extract:<br> &#8230;some html&#8230; &#8230;some html&#8230;</p>
</div></article></div>
<div id="comment-2678" class="comment even thread-even depth-1"><article id="div-comment-2678" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-19c322e5e942511e62cd0273f032a4c0-120-60d16a816924c" alt="Dave Doolin" src="/wp-content/uploads/gravatar-cache/19c322e5e942511e62cd0273f032a4c0-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Dave Doolin</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2678"><time datetime="2009-10-31T12:45:48-06:00" title="Sat 31 Oct 2009 at 12:45 pm">Sat 31 Oct 2009 at 12:45 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>Yeah, I don&#8217;t like extract. I don&#8217;t get where stuff comes from.</p>
<p>I also don&#8217;t like how it&#8217;s used in WordPress shortcodes examples, where it looks like the array is being initialized with values that are overwritten during the actual &#8220;extract&#8221; operation.</p>
<p>Rick, I don&#8217;t quite get your example, but I&#8217;m willing to trust that it&#8217;s a good reason for using extract. For other cases, definitely not. Maybe one of those seemingly good ideas that was slightly misimplemented, that is, unforeseen side effects crop up.</p>
<p>Back to the salt mine&#8230;</p>
</div></article></div>
<div id="comment-2679" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2679" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://www.luqmanrocks.co.cc/" rel="external nofollow" class="url"><img id="grav-8fc211d3bc6bacd61fa0539129c7f307-120-60d16a816d61a" alt="ChaoticX" src="/wp-content/uploads/gravatar-cache/8fc211d3bc6bacd61fa0539129c7f307-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">ChaoticX</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2679"><time datetime="2009-11-07T17:52:35-07:00" title="Sat 7 Nov 2009 at 5:52 pm">Sat 7 Nov 2009 at 5:52 pm</time></a>
</div></footer><div class="comment-content entry-content"><p>I agree that <code>extract()</code> should only be used when rightfully necessary. For example in a template manager as Rick mentions. I&#8217;m actually working on my own Bloging platform and I use extract to &#8220;export&#8221; variables into the template. So in the PHP code I would call <code>$page-&gt;addVars(array("varName" =&gt; "value");</code> and within the template I can access it as $varName. This lets me know where this variable comes from. Also, in regards to extract and security I implement sanity/error checks to stop any potential security issues.</p></div></article></div>
<div id="comment-2680" class="comment even thread-even depth-1"><article id="div-comment-2680" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-8fc211d3bc6bacd61fa0539129c7f307-120-60d16a8171949" alt="Thomas Lefevre" src="/wp-content/uploads/gravatar-cache/8fc211d3bc6bacd61fa0539129c7f307-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Thomas Lefevre</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2680"><time datetime="2009-12-04T08:52:47-07:00" title="Fri 4 Dec 2009 at 8:52 am">Fri 4 Dec 2009 at 8:52 am</time></a>
</div></footer><div class="comment-content entry-content">
<p>I have a template system and in it, classes of what i call &#8220;modules&#8221; are dynamically loaded.</p>
<p>all object generated are stocked in an associative array in the &#8220;template&#8221; class and i wanted to access these &#8220;module&#8221; objects in my template with : $module1-&gt;function() ,instead of $template-&gt;module_array[object]-&gt;function() &#8230;</p>
<p>Moreover, it seamed that by including and setting a &#8220;module&#8221; classe inside the template class,it wasn&#8217;t accessible as $module1 directly even when put to the global scope (this is wierd, i know i need to review my app design skills).</p>
<p>By simply extracting the module array ($template-&gt;module_array) right before including a template (like a body.tpl.php file for exemple) all this became possible.</p>
<p>I don&#8217;t really need to know what the object name is from because it is extracted from the filename of the file containing the class definition,like module1.php .</p>
<p>I don&#8217;t know if i&#8217;m clear enough, but it was the only way for me and i will use extract only for this extreme case.</p>
<p>Thanks for this article which i came to read and made me try this solution.</p>
</div></article></div>
<div id="comment-2681" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2681" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a8171ec3" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2681"><time datetime="2009-12-07T05:36:25-07:00" title="Mon 7 Dec 2009 at 5:36 am">Mon 7 Dec 2009 at 5:36 am</time></a>
</div></footer><div class="comment-content entry-content"><p>I&#8217;d be willing to believe that there are potentially useful things to do with extract, but that it&#8217;s general use is more confusing than helpful.</p></div></article></div>
<div id="comment-2682" class="comment even thread-even depth-1"><article id="div-comment-2682" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-7f1175c020d69fb9853bb72f0747c4d3-120-60d16a81727f8" alt="David Brewer" src="/wp-content/uploads/gravatar-cache/7f1175c020d69fb9853bb72f0747c4d3-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">David Brewer</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2682"><time datetime="2010-01-08T14:23:41-07:00" title="Fri 8 Jan 2010 at 2:23 pm">Fri 8 Jan 2010 at 2:23 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>The trick to using extract cleanly is to always use the EXTR_IF_EXISTS flag. This allows you to predefine the only variables you are willing to let extract populate, and also means that if you search for a mystery variable name it will take you right to the lines where the extract happened.</p>
<p><code><br> list($name, $title, $email, $date) = array_fill(0, 4, null);<br> extract($data, EXTR_IF_EXISTS);<br> </code></p>
<p>This is the only way I ever use extract, and although a little strange looking at first it quickly because really easy to recognize what is going on. A slight variation also lets you assign default values to variables which may or may not exist in the array.</p>
<p><code><br> list($name, $title, $email, $date) = array('Anonymous', '', 'example@example.com', null);<br> extract($data, EXTR_IF_EXISTS);<br> </code></p>
</div></article></div>
<div id="comment-2683" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2683" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a8172e52" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2683"><time datetime="2010-01-08T15:24:14-07:00" title="Fri 8 Jan 2010 at 3:24 pm">Fri 8 Jan 2010 at 3:24 pm</time></a>
</div></footer><div class="comment-content entry-content"><p>I agree that would be better approach if you are going to use extract()</p></div></article></div>
<div id="comment-2684" class="comment even thread-even depth-1"><article id="div-comment-2684" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://iohelix.net/" rel="external nofollow" class="url"><img id="grav-aa50860353d6c6bba575cefe31c5709f-120-60d16a81732ea" alt="Benjam" src="/wp-content/uploads/gravatar-cache/aa50860353d6c6bba575cefe31c5709f-120.png" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Benjam</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2684"><time datetime="2010-02-05T10:32:40-07:00" title="Fri 5 Feb 2010 at 10:32 am">Fri 5 Feb 2010 at 10:32 am</time></a>
</div></footer><div class="comment-content entry-content">
<p>I&#8217;ve used extract in normal code before (non-template systems, as well as template systems), and the way I got around the &#8220;not knowing where things come from&#8221; issue is to add a comment to the extract stating what variables were created by the function.</p>
<p><code><br> extract($data); // creates $name, $title, $email, and $date<br> </code></p>
<p>Now when I&#8217;m running a search for a variable, it will find the extract line, and I&#8217;ll know what&#8217;s going on.</p>
<p>It is confusing when the comment is missing, though, or when any other method of letting the reader know what variables are being created is missing.</p>
<p>I also like Mr. Brewer&#8217;s method&#8230; keeps unwanted variables out (because who knows what&#8217;s going on elsewhere in the code, and what other elements are being added to the $data array) and it also lets the reader know what variables are being created by the function. Very nice.</p>
</div></article></div>
<div id="comment-2685" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2685" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a81737c3" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2685"><time datetime="2010-02-05T13:45:58-07:00" title="Fri 5 Feb 2010 at 1:45 pm">Fri 5 Feb 2010 at 1:45 pm</time></a>
</div></footer><div class="comment-content entry-content"><p>This still feels a bit fragile. I may not understand every line of code without reading comments, but I should at least be able to follow it.</p></div></article></div>
<div id="comment-2686" class="comment even thread-even depth-1"><article id="div-comment-2686" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-8fc211d3bc6bacd61fa0539129c7f307-120-60d16a8178812" alt="Larry" src="/wp-content/uploads/gravatar-cache/8fc211d3bc6bacd61fa0539129c7f307-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Larry</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2686"><time datetime="2010-04-01T11:45:37-06:00" title="Thu 1 Apr 2010 at 11:45 am">Thu 1 Apr 2010 at 11:45 am</time></a>
</div></footer><div class="comment-content entry-content"><p>I&#8217;ve used extract() in order to create some pretty nifty de-serialization of incoming $_POST data where I have potentially hundreds of variables that could be extracted. The trick to avoiding the problem you mention above is to use the EXTR_PREFIX_ALL parameter. Thus I use extract( $_POST, EXTR_PREFIX_ALL, &#8220;POST&#8221; ), or even better, extract( $_REQUEST, EXTR_PREFIX_ALL, &#8220;POST&#8221;), which gives me variables named $POST_name, etc. Now it&#8217;s really easy for me to see which variables come from regular programming (e.g. $name) and which come from some extracted data (e.g. $POST_name). Similarly when getting lines from a database I can use $row = mysql_fetch_array( $result ); extract( $row, EXTR_PREFIX_ALL, &#8220;DATA&#8221; ) and then use variables like $DATA_name, $DATA_address, etc. By judicious use of prefixes I also avoid naming conflicts (e.g. $POST_name is different than $DATA_name which are both different than a $name you might have created on the fly)</p></div></article></div>
<div id="comment-2687" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2687" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a8178d7e" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2687"><time datetime="2010-04-01T20:19:40-06:00" title="Thu 1 Apr 2010 at 8:19 pm">Thu 1 Apr 2010 at 8:19 pm</time></a>
</div></footer><div class="comment-content entry-content"><p>These are definitely ways to make extract() less annoying, but I still don&#8217;t see how that would be better than just referencing $POST[&#8216;name&#8217;], $row[&#8216;name&#8217;] and $name.</p></div></article></div>
<div id="comment-2689" class="comment even thread-even depth-1"><article id="div-comment-2689" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://bookmarks.honewatson.com/" rel="external nofollow" class="url"><img id="grav-1108c23112b14bcbbecd8efd6a70587b-120-60d16a81796cc" alt="Hone Watson" src="/wp-content/uploads/gravatar-cache/1108c23112b14bcbbecd8efd6a70587b-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Hone Watson</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2689"><time datetime="2010-10-11T16:53:35-06:00" title="Mon 11 Oct 2010 at 4:53 pm">Mon 11 Oct 2010 at 4:53 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>If you don&#8217;t know what is in the function after extract:</p>
<p>print_r(get_defined_vars());</p>
<p>I like extract for template purposes.</p>
</div></article></div>
<div id="comment-2690" class="comment byuser comment-author-josephscott bypostauthor odd alt thread-odd thread-alt depth-1"><article id="div-comment-2690" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a8179d71" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2690"><time datetime="2010-10-12T10:54:49-06:00" title="Tue 12 Oct 2010 at 10:54 am">Tue 12 Oct 2010 at 10:54 am</time></a>
</div></footer><div class="comment-content entry-content"><p>That doesn&#8217;t tell me where the variables came from.</p></div>
<footer class="comment-footer-meta"> <span class="by-post-author">By Post Author</span></footer></article></div>
<div id="comment-2691" class="comment even thread-even depth-1"><article id="div-comment-2691" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-f740e98279c1b9de00060d43df5465ba-120-60d16a817a75c" alt="Kent Davidson" src="/wp-content/uploads/gravatar-cache/f740e98279c1b9de00060d43df5465ba-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Kent Davidson</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2691"><time datetime="2011-05-16T15:15:57-06:00" title="Mon 16 May 2011 at 3:15 pm">Mon 16 May 2011 at 3:15 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>Ditto this approach. I do this all the time, without the array_fill magic:</p>
<p><code>$name_first = $name_last = $name_middle = $name_suffix = $name_prefix = null;<br> extract($person, EXTR_IF_EXISTS);<br> </code></p>
<p>The ones which do it without pre-declaring the vars it feel a little scary to me.</p>
</div></article></div>
<div id="comment-2692" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2692" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-8fc211d3bc6bacd61fa0539129c7f307-120-60d16a817f00f" alt="jagall" src="/wp-content/uploads/gravatar-cache/8fc211d3bc6bacd61fa0539129c7f307-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">jagall</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2692"><time datetime="2012-06-21T15:33:02-06:00" title="Thu 21 Jun 2012 at 3:33 pm">Thu 21 Jun 2012 at 3:33 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>Hi guys, I am getting this error in a log file in my cache folder which is created each time a page is loaded:</p>
<p>PHP Warning: extract() [<a href="/2009/02/05/i-dont-like-phps-extract-function/function.extract" rel="nofollow">function.extract</a>]: First argument should be an array in &#8230;&#8230;</p>
<p>Has anybody any ideas, as I am stumped. Not a programmer so you know.<br> Cheers</p>
</div></article></div>
<div id="comment-2693" class="comment byuser comment-author-josephscott bypostauthor even thread-even depth-1"><article id="div-comment-2693" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="http://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a817f597" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2693"><time datetime="2012-06-24T15:33:45-06:00" title="Sun 24 Jun 2012 at 3:33 pm">Sun 24 Jun 2012 at 3:33 pm</time></a>
</div></footer><div class="comment-content entry-content"><p>The extract() function expects an array. Looks like you are calling it with some other data type.</p></div>
<footer class="comment-footer-meta"> <span class="by-post-author">By Post Author</span></footer></article></div>
<div id="comment-2694" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2694" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="https://michalzuber.wordpress.com/" rel="external nofollow" class="url"><img id="grav-9a9f49389aaad182d8e8645a0a65e764-120-60d16a817ff46" alt="Michal Zuber" src="/wp-content/uploads/gravatar-cache/9a9f49389aaad182d8e8645a0a65e764-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Michal Zuber</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2694"><time datetime="2014-05-15T05:13:09-06:00" title="Thu 15 May 2014 at 5:13 am">Thu 15 May 2014 at 5:13 am</time></a>
</div></footer><div class="comment-content entry-content"><p>Hi, very good point. I was used to:<br> <code><br> $secured = array();<br> $secured = secure_input($_POST);<br> extract($secured, EXTR_PREFIX_ALL, 'post');<br> </code><br> Because after that came the insertion into DB. But after reading your opinions it looks to me now really unnecessary to extract. Keep posting such best practices 😉</p></div></article></div>
<div id="comment-2695" class="comment even thread-even depth-1"><article id="div-comment-2695" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-9ca638ca19b146a3d4dc3ea7ee270b85-120-60d16a81809ef" alt="Robert Wilde" src="/wp-content/uploads/gravatar-cache/9ca638ca19b146a3d4dc3ea7ee270b85-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Robert Wilde</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2695"><time datetime="2015-09-13T19:39:54-06:00" title="Sun 13 Sep 2015 at 7:39 pm">Sun 13 Sep 2015 at 7:39 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>Interested to know if this method of using list() can be used with shortcode_atts().</p>
<p>This is the most common place I find extract() and where it becomes a annoyance.</p>
<p>Thanks for the insight so far, very helpful.</p>
</div></article></div>
<div id="comment-2696" class="comment byuser comment-author-josephscott bypostauthor odd alt thread-odd thread-alt depth-1"><article id="div-comment-2696" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="https://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a81810b5" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2696"><time datetime="2015-09-14T08:37:02-06:00" title="Mon 14 Sep 2015 at 8:37 am">Mon 14 Sep 2015 at 8:37 am</time></a>
</div></footer><div class="comment-content entry-content"><p>I don&#8217;t think there is anything preventing the use of <code>list()</code> for that.</p></div>
<footer class="comment-footer-meta"> <span class="by-post-author">By Post Author</span></footer></article></div>
<div id="comment-2697" class="comment even thread-even depth-1"><article id="div-comment-2697" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-ae55873463aba7e9883d1e28922f5865-120-60d16a81819b7" alt="Flaral" src="/wp-content/uploads/gravatar-cache/ae55873463aba7e9883d1e28922f5865-120.png" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Flaral</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2697"><time datetime="2015-09-29T23:55:09-06:00" title="Tue 29 Sep 2015 at 11:55 pm">Tue 29 Sep 2015 at 11:55 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>What about when passing an array of objects?</p>
<p>It&#8217;s less readable to do:</p>
<p>$args[&#8220;object_four&#8221;]-&gt;getInfo();</p>
<p>Than to do:</p>
<p>Extract($args);</p>
<p>$object_four-&gt;getInfo();</p>
</div></article></div>
<div id="comment-2698" class="comment byuser comment-author-josephscott bypostauthor odd alt thread-odd thread-alt depth-1"><article id="div-comment-2698" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <a href="https://josephscott.org/" rel="external nofollow" class="url"><img id="grav-582b66ad5ae1b69c7601a990cb9a661a-120-60d16a8181fee" alt="Joseph Scott" src="/wp-content/uploads/gravatar-cache/582b66ad5ae1b69c7601a990cb9a661a-120.jpg" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Joseph Scott</span><span class="screen-reader-text says">says:</span></a>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2698"><time datetime="2015-09-30T08:31:32-06:00" title="Wed 30 Sep 2015 at 8:31 am">Wed 30 Sep 2015 at 8:31 am</time></a>
</div></footer><div class="comment-content entry-content"><p>It isn&#8217;t less readable when you are debugging something a year later and trying to figure out where <code>$object_four</code> came from.</p></div>
<footer class="comment-footer-meta"> <span class="by-post-author">By Post Author</span></footer></article></div>
<div id="comment-2699" class="comment even thread-even depth-1"><article id="div-comment-2699" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-92041ac151d5c6489760708e0edbaf5b-120-60d16a818293d"><span class="fn">I&#039;m Luis! ^-^</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2699"><time datetime="2016-02-23T08:18:12-07:00" title="Tue 23 Feb 2016 at 8:18 am">Tue 23 Feb 2016 at 8:18 am</time></a>
</div></footer><div class="comment-content entry-content">
<p>I think that when we&#8217;re using MVC, instead of using extract we can call our array $controller and pass it to the template.</p>
<p>When someone is reading our code, if we use MVC that person must know that we use MVC. So when he reads he knows that everything related to $controller came from the controller that called to that template. And that&#8217;s it.</p>
</div></article></div>
<div id="comment-2700" class="comment odd alt thread-odd thread-alt depth-1"><article id="div-comment-2700" class="comment-body"><footer class="comment-meta"><div class="comment-author vcard"> <img id="grav-9989db030670a90dbab102272d764c89-120-60d16a818342f" alt="Leo" src="/wp-content/uploads/gravatar-cache/9989db030670a90dbab102272d764c89-120.png" class="avatar avatar-120 photo" height="120" width="120" loading="lazy"><span class="fn">Leo</span><span class="screen-reader-text says">says:</span>
</div>
<div class="comment-metadata"> <a href="/2009/02/05/i-dont-like-phps-extract-function/#comment-2700"><time datetime="2016-03-04T17:20:59-07:00" title="Fri 4 Mar 2016 at 5:20 pm">Fri 4 Mar 2016 at 5:20 pm</time></a>
</div></footer><div class="comment-content entry-content">
<p>Great point why cause more friction!</p>
<p>I feel if there&#8217;s a NEED to use extract() through either non-understanding or it&#8217;s the current practice of the codebase you&#8217;re working on then at least come up with a convention to name its resulting variables like $extVariable so it&#8217;s not completely magic especially if it&#8217;s used hundreds of lines later.</p>
</div></article></div>
</div>
</div>
<hr class="styled-separator is-style-wide" aria-hidden="true">
<div id="respond" class="comment-respond">
<h2 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2009/02/05/i-dont-like-phps-extract-function/#respond" style="display:none;">Cancel reply</a></small>
</h2>
<form action="/wp-comments-post.php" method="post" id="commentform" class="section-inner thin max-percentage" novalidate>
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>
<p class="comment-form-comment"><label for="comment">Comment</label><textarea autocomplete="new-password" id="a615bd6834" name="a615bd6834" cols="45" rows="8" maxlength="65525" required="required"></textarea><textarea id="comment" aria-hidden="true" name="comment" autocomplete="new-password" style="padding:0 !important;clip:rect(1px, 1px, 1px, 1px) !important;position:absolute !important;white-space:nowrap !important;height:1px !important;width:1px !important;overflow:hidden !important;" tabindex="-1"></textarea><script data-noptimize type="text/javascript">document.getElementById("comment").setAttribute( "id", "a8e38922b094b4780b2ce7a46cd528fe" );document.getElementById("a615bd6834").setAttribute( "id", "comment" );</script></p>
<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="8044" id="comment_post_ID"> <input type="hidden" name="comment_parent" id="comment_parent" value="0"></p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="8cf21dc6cf"></p>
<input type="hidden" id="ak_js" name="ak_js" value="25"><textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100" style="display: none !important;"></textarea>
</form>
</div>
</div></article></main><div class="footer-nav-widgets-wrapper header-footer-group"><div class="footer-inner section-inner"><aside class="footer-widgets-outer-wrapper" role="complementary"><div class="footer-widgets-wrapper"><div class="footer-widgets column-one grid-item"><div class="widget widget_search"><div class="widget-content"><form role="search" method="get" class="search-form" action="/"> <label for="search-form-2"> <span class="screen-reader-text">Search for:</span> <input type="search" id="search-form-2" class="search-field" placeholder="Search &hellip;" value="" name="s"> </label> <input type="submit" class="search-submit" value="Search">
</form></div></div></div></div></aside></div></div>
<footer id="site-footer" role="contentinfo" class="header-footer-group"><div class="section-inner">
<div class="footer-credits">
<p class="footer-copyright">&copy;
2021 <a href="/">Joseph Scott</a></p>
<p class="powered-by-wordpress"> <a href="https://wordpress.org/"> Powered by WordPress </a></p>
</div> <a class="to-the-top" href="#site-header"> <span class="to-the-top-long"> To the top <span class="arrow" aria-hidden="true">&uarr;</span> </span> <span class="to-the-top-short"> Up <span class="arrow" aria-hidden="true">&uarr;</span> </span> </a>
</div></footer> <script>/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var t,e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(t=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())},!1);</script> <script defer src="/wp-content/cache/autoptimize/js/autoptimize_7f503920b823033d01081cc5ae68a469.js"></script>
</body>
</html>