{
    "version": "https://jsonfeed.org/version/1.1",
    "user_comment": "This feed allows you to read the posts from this site in any feed reader that supports the JSON Feed format. To add this feed to your reader, copy the following URL -- https://blog.josephscott.org/tag/sql/feed/json/ -- and add it your reader.",
    "home_page_url": "https://blog.josephscott.org/tag/sql/",
    "feed_url": "https://blog.josephscott.org/tag/sql/feed/json/",
    "language": "en-US",
    "title": "sql &#8211; Joseph Scott",
    "items": [
        {
            "id": "https://josephscott.org/?p=13824",
            "url": "https://blog.josephscott.org/2015/11/10/sql-tutorial/",
            "title": "SQL Tutorial",
            "content_html": "<p>Looking for an easy way to learn the basics of <a href=\"https://en.wikipedia.org/wiki/SQL\">SQL</a> ( Structured Query Language )?  Check out <a href=\"https://www.sqlteaching.com/\">sqlteaching.com</a>.</p>\n<p>It has 31 lessons ranging from the basics of <code>SELECT</code> to <code>CASE</code> statements.  While they use <a href=\"https://www.sqlite.org/\">SQLite</a> for the queries, the basics of SQL are broadly applicable.</p>\n",
            "content_text": "Looking for an easy way to learn the basics of SQL ( Structured Query Language )?  Check out sqlteaching.com.\nIt has 31 lessons ranging from the basics of SELECT to CASE statements.  While they use SQLite for the queries, the basics of SQL are broadly applicable.",
            "date_published": "2015-11-10T09:41:30-07:00",
            "date_modified": "2015-11-10T09:41:30-07:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "sql",
                "sqlite",
                "Posts"
            ]
        },
        {
            "id": "http://josephscott.org/?p=3653",
            "url": "https://blog.josephscott.org/2011/02/28/mysql-insert-on-duplicate-and-multiple-rows/",
            "title": "MySQL: INSERT ON DUPLICATE and Multiple Rows",
            "content_html": "<p>If you are familiar with the MySQL <a href=\"http://dev.mysql.com/doc/refman/5.5/en/insert.html\">INSERT </a> syntax you&#8217;ve probably already noticed the ability to insert multiple rows with one call:</p>\n<p>[sourcecode lang=&#8221;sql&#8221;]<br />\nINSERT INTO table_name (a,b,c) VALUES (1,2,3), (4,5,6), (7,8,9);<br />\n[/sourcecode]</p>\n<p>This can be handy if you have several rows that you need to insert, no point in making separate calls for each one.</p>\n<p>Another nice feature is the <a href=\"http://dev.mysql.com/doc/refman/5.5/en/insert-on-duplicate.html\">ON DUPLICATE</a> syntax, which allows for:</p>\n<p>[sourcecode lang=&#8221;sql&#8221;]<br />\nINSERT INTO table_name (a,b,c) VALUES (1,2,3)<br />\n  ON DUPLICATE KEY UPDATE c = c + 1;<br />\n[/sourcecode]</p>\n<p>If you have a unique index on the table, then ON DUPLICATE will kick in if there is a conflict with the unique on insert.  Without ON DUPLICATE you&#8217;d generally do a SELECT first to see if the value was already in the table, then either do an INSERT or an UPDATE based on the response.</p>\n<p>What you may not have noticed is that you can combine the multi-row insert and ON DUPLICATE features to do:</p>\n<p>[sourcecode lang=&#8221;sql&#8221;]<br />\nINSERT INTO table_name (a,b,c) VALUES (1,2,3), (4,5,6), (7,8,9)<br />\n  ON DUPLICATE KEY UPDATE c = c + 1;<br />\n[/sourcecode]</p>\n<p>Where might you use something like this?  If you were looping over data and inserting using ON DUPLICATE inside the loop you could instead build the SQL string inside the loop and then issue a single database request after the loop.  </p>\n<p>Exactly what sort of savings you&#8217;ll see depends on a number of factors ( number of iterations in your loop, latency for database requests, etc. ), so run your own tests to determine if this will help for your particular situation.</p>\n",
            "content_text": "If you are familiar with the MySQL INSERT  syntax you&#8217;ve probably already noticed the ability to insert multiple rows with one call:\n[sourcecode lang=&#8221;sql&#8221;]\nINSERT INTO table_name (a,b,c) VALUES (1,2,3), (4,5,6), (7,8,9);\n[/sourcecode]\nThis can be handy if you have several rows that you need to insert, no point in making separate calls for each one.\nAnother nice feature is the ON DUPLICATE syntax, which allows for:\n[sourcecode lang=&#8221;sql&#8221;]\nINSERT INTO table_name (a,b,c) VALUES (1,2,3)\n  ON DUPLICATE KEY UPDATE c = c + 1;\n[/sourcecode]\nIf you have a unique index on the table, then ON DUPLICATE will kick in if there is a conflict with the unique on insert.  Without ON DUPLICATE you&#8217;d generally do a SELECT first to see if the value was already in the table, then either do an INSERT or an UPDATE based on the response.\nWhat you may not have noticed is that you can combine the multi-row insert and ON DUPLICATE features to do:\n[sourcecode lang=&#8221;sql&#8221;]\nINSERT INTO table_name (a,b,c) VALUES (1,2,3), (4,5,6), (7,8,9)\n  ON DUPLICATE KEY UPDATE c = c + 1;\n[/sourcecode]\nWhere might you use something like this?  If you were looping over data and inserting using ON DUPLICATE inside the loop you could instead build the SQL string inside the loop and then issue a single database request after the loop.  \nExactly what sort of savings you&#8217;ll see depends on a number of factors ( number of iterations in your loop, latency for database requests, etc. ), so run your own tests to determine if this will help for your particular situation.",
            "date_published": "2011-02-28T11:03:55-07:00",
            "date_modified": "2011-02-28T11:03:55-07:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "insert",
                "MySQL",
                "sql",
                "Posts"
            ]
        },
        {
            "id": "http://josephscott.org/?p=3204",
            "url": "https://blog.josephscott.org/2010/11/18/php-sql-parser/",
            "title": "php-sql-parser",
            "content_html": "<blockquote><p>\nFull support for the MySQL dialect for the following statement types</p>\n<ul>\n<li>SELECT</li>\n<li>INSERT</li>\n<li>UPDATE</li>\n<li>DELETE</li>\n<li>REPLACE</li>\n</blockquote>\n<p>via <a href='http://code.google.com/p/php-sql-parser/'>php-sql-parser</a></p>\n<p>Targeting MySQL syntax is a reasonable trade off.  It appears to handle <a href=\"http://code.google.com/p/php-sql-parser/wiki/ComplexExample\">reasonably complex queries</a> as well.</p>\n<p>I&#8217;m going to keep this link handy, I&#8217;ve got a feeling there are some fun (and perhaps twisted) ways to make use of this.</p>\n",
            "content_text": "Full support for the MySQL dialect for the following statement types\n\nSELECT\nINSERT\nUPDATE\nDELETE\nREPLACE\n\nvia php-sql-parser\nTargeting MySQL syntax is a reasonable trade off.  It appears to handle reasonably complex queries as well.\nI&#8217;m going to keep this link handy, I&#8217;ve got a feeling there are some fun (and perhaps twisted) ways to make use of this.",
            "date_published": "2010-11-18T10:26:02-07:00",
            "date_modified": "2010-11-18T10:26:02-07:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "parser",
                "PHP",
                "php-sql-parser",
                "sql",
                "Posts"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/archives/2008/02/01/links-for-fri-1-feb-2008/",
            "url": "https://blog.josephscott.org/2008/02/01/links-for-fri-1-feb-2008/",
            "title": "Links for Fri 1 Feb 2008",
            "content_html": "<ul>\n<li>\n<p><a href=\"http://bugs.mysql.com/bug.php?id=21456\">MySQL Bugs: #21456: SELECT DISTINCT(x) produces incorrect results when using order by</a> &#8211; Version 4.1.21 has an error in the query optimizer where SELECT DISTINCT doesn&#8217;t work when using ORDER BY.  Guess which version of MySQL I was using when I found this out. <br /> Tags: <a href=\"http://del.icio.us/josephscott/mysql\">mysql</a> <a href=\"http://del.icio.us/josephscott/bug\">bug</a> <a href=\"http://del.icio.us/josephscott/sql\">sql</a>  </p>\n</li>\n</ul>\n",
            "content_text": "MySQL Bugs: #21456: SELECT DISTINCT(x) produces incorrect results when using order by &#8211; Version 4.1.21 has an error in the query optimizer where SELECT DISTINCT doesn&#8217;t work when using ORDER BY.  Guess which version of MySQL I was using when I found this out.  Tags: mysql bug sql",
            "date_published": "2008-02-01T17:30:17-07:00",
            "date_modified": "2008-02-01T17:30:17-07:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "bug",
                "Links",
                "MySQL",
                "sql",
                "Link Dump"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/archives/2007/06/21/jeremy-cole-on-mysql-subquery-optimization/",
            "url": "https://blog.josephscott.org/2007/06/21/jeremy-cole-on-mysql-subquery-optimization/",
            "title": "Jeremy Cole on MySQL Subquery Optimization",
            "content_html": "<p>From Jeremy&#8217;s <a href=\"http://jcole.us/blog/archives/2007/06/20/my-top-5-wishes-for-mysql/\">MySQL wish list</a> (emphasis mine):</p>\n<blockquote><p>\ne. Fix subquery optimization</p>\n<p>Subqueries have been available in the same broken state for over 4 years now. Why are subqueries in an IN (\u2026) clause still optimized in an incredibly stupid and slow way, such as to make them useless? We have customers tripping over this all the time. <b>MySQL can check off \u201csubqueries\u201d on the to-do list, since they do in fact work. The SQL standard doesn\u2019t say anything about not sucking.</b>\n</p></blockquote>\n<p>Reading this, I had a mental image of the next SQL spec having a line in there about sub-queries that don&#8217;t suck <img src=\"https://s.w.org/images/core/emoji/13.0.1/72x72/1f642.png\" alt=\"\ud83d\ude42\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n",
            "content_text": "From Jeremy&#8217;s MySQL wish list (emphasis mine):\n\ne. Fix subquery optimization\nSubqueries have been available in the same broken state for over 4 years now. Why are subqueries in an IN (\u2026) clause still optimized in an incredibly stupid and slow way, such as to make them useless? We have customers tripping over this all the time. MySQL can check off \u201csubqueries\u201d on the to-do list, since they do in fact work. The SQL standard doesn\u2019t say anything about not sucking.\n\nReading this, I had a mental image of the next SQL spec having a line in there about sub-queries that don&#8217;t suck",
            "date_published": "2007-06-21T08:56:52-06:00",
            "date_modified": "2007-06-21T08:56:52-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "jeremycole",
                "MySQL",
                "sql",
                "josephscott"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/archives/2007/01/12/implementing-a-queue-in-sql/",
            "url": "https://blog.josephscott.org/2007/01/12/implementing-a-queue-in-sql/",
            "title": "Implementing a Queue in SQL",
            "content_html": "<p>Greg&#8217;s <a href=\"http://people.planetpostgresql.org/greg/index.php?/archives/89-guid.html\">Implementing a queue in SQL (Postgres version)</a> is an interesting exercise.  The goal was to implement a simple queue that can be managed via SQL.  The example is a simple first in, first out (FIFO) queue, with a limit of 5 items.</p>\n<p>Two methods are demonstrated to accomplish this, the first one makes use of the <a href=\"http://www.postgresql.org/docs/8.2/interactive/rules.html\">PostgreSQL Rules</a> and is very short.  The second one is a little bit longer and uses a <a href=\"http://www.postgresql.org/docs/8.2/interactive/plpgsql.html\">PL/pgSQL function</a> as a <a href=\"http://www.postgresql.org/docs/8.2/interactive/triggers.html\">trigger</a>.  One advantage of the second method is that it lets you know how many rows in your queue were recycled.  Both methods require only one table.</p>\n<p>There&#8217;s also a <a href=\"http://www.xaprb.com/blog/2007/01/11/how-to-implement-a-queue-in-sql/\">queue in MySQL</a> article as well.</p>\n<p>Is it practical to implement FIFO queues in a DBMS?  Maybe not, but it is a good example of thinking outside the box.</p>\n",
            "content_text": "Greg&#8217;s Implementing a queue in SQL (Postgres version) is an interesting exercise.  The goal was to implement a simple queue that can be managed via SQL.  The example is a simple first in, first out (FIFO) queue, with a limit of 5 items.\nTwo methods are demonstrated to accomplish this, the first one makes use of the PostgreSQL Rules and is very short.  The second one is a little bit longer and uses a PL/pgSQL function as a trigger.  One advantage of the second method is that it lets you know how many rows in your queue were recycled.  Both methods require only one table.\nThere&#8217;s also a queue in MySQL article as well.\nIs it practical to implement FIFO queues in a DBMS?  Maybe not, but it is a good example of thinking outside the box.",
            "date_published": "2007-01-12T09:34:35-07:00",
            "date_modified": "2007-01-12T09:34:35-07:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "MySQL",
                "PostgreSQL",
                "sql",
                "josephscott"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/archives/2006/06/22/sql-server-convert/",
            "url": "https://blog.josephscott.org/2006/06/22/sql-server-convert/",
            "title": "SQL Server CONVERT()",
            "content_html": "<p><span style=\"float: left;padding: 10px\"></p>\n<p></span><br />\nI recently had the need format a datetime field in SQL Server 2000.  My first thought was to look for <a href=\"http://www.postgresql.org/docs/8.1/static/functions-formatting.html\">to_char()</a>, which does the job in <a href=\"http://www.postgresql.org/\">PostgreSQL</a> and <a href=\"http://www.oracle.com/\">Oracle</a>.  No luck there because SQL Server doesn&#8217;t have a to_char() function.  After some hunting around I found out about the <a href=\"http://msdn.microsoft.com/library/default.asp?url=/library/en-us/tsqlref/ts_ca-co_2f3o.asp\">convert()</a> function.  This does the same thing as to_char() (more or less) but instead of using traditional date formatting codes, &#8220;style codes&#8221;.</p>\n<p>Yes, you read that right.  Instead of being able to get a four digit year by specifying Y or YYYY, you have to look up the style code that matches the format you want.  In my case I was look for DD MON YYYY format.  This turns out to be style code 106.  Here is an example:</p>\n<pre>\nSELECT CONVERT(VARCHAR(11), datetime_field, 106) AS formatted_date\n</pre>\n<p>Some time with <a href=\"http://www.google.com/\">Google</a> turned up a page listing <a href=\"http://www.sql-server-helper.com/tips/date-formats.aspx\">examples of various style codes</a>.  Here is <a href=\"http://sqljunkies.com/Article/6676BEAE-1967-402D-9578-9A1C7FD826E5.scuk\">another one</a> about 40% down the page.</p>\n<p>There is an alternative to convert(), <a href=\"http://support.microsoft.com/default.aspx?scid=kb;EN-US;q186265\">datepart()</a>.  This allows you to pull out specific parts of the datetime field.  So you could do the same thing as the convert() example above, but it would be much more verbose.</p>\n<p><b>UPDATE Fri 7 Jul 2006 @ 11:30am :</b> I really should have included a list at least some of the format codes in this post for future reference:</p>\n<ul>\n<li>100 &#8211; mon dd yyyy hh:miAM (or PM)</li>\n<li>101 &#8211; mm/dd/yy</li>\n<li>106 &#8211; dd mon yy</li>\n<li>108 &#8211; hh:mm:ss</li>\n<li>109 &#8211; mon dd yyyy hh:mi:ss:mmmAM (or PM)</li>\n<li>130 &#8211; dd mon yyyy hh:mi:ss:mmmAM (or PM)</li>\n</ul>\n",
            "content_text": "I recently had the need format a datetime field in SQL Server 2000.  My first thought was to look for to_char(), which does the job in PostgreSQL and Oracle.  No luck there because SQL Server doesn&#8217;t have a to_char() function.  After some hunting around I found out about the convert() function.  This does the same thing as to_char() (more or less) but instead of using traditional date formatting codes, &#8220;style codes&#8221;.\nYes, you read that right.  Instead of being able to get a four digit year by specifying Y or YYYY, you have to look up the style code that matches the format you want.  In my case I was look for DD MON YYYY format.  This turns out to be style code 106.  Here is an example:\n\nSELECT CONVERT(VARCHAR(11), datetime_field, 106) AS formatted_date\n\nSome time with Google turned up a page listing examples of various style codes.  Here is another one about 40% down the page.\nThere is an alternative to convert(), datepart().  This allows you to pull out specific parts of the datetime field.  So you could do the same thing as the convert() example above, but it would be much more verbose.\nUPDATE Fri 7 Jul 2006 @ 11:30am : I really should have included a list at least some of the format codes in this post for future reference:\n\n100 &#8211; mon dd yyyy hh:miAM (or PM)\n101 &#8211; mm/dd/yy\n106 &#8211; dd mon yy\n108 &#8211; hh:mm:ss\n109 &#8211; mon dd yyyy hh:mi:ss:mmmAM (or PM)\n130 &#8211; dd mon yyyy hh:mi:ss:mmmAM (or PM)",
            "date_published": "2006-06-22T21:53:41-06:00",
            "date_modified": "2006-06-22T21:53:41-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "convert",
                "datepart",
                "sql",
                "sqlserver",
                "to_char",
                "josephscott"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/archives/2006/05/24/misunderstanding-foreign-keys/",
            "url": "https://blog.josephscott.org/2006/05/24/misunderstanding-foreign-keys/",
            "title": "Misunderstanding Foreign Keys",
            "content_html": "<p>Curtis Poe takes a turn at shooting down people who think foreign keys aren&#8217;t important with a O&#8217;Reilly blog post: <a href=\"http://www.oreillynet.com/onlamp/blog/2006/05/misunderstanding_foreign_keys.html\">Misunderstanding Foreign Keys</a>.  Curtis seems to have been inspired by this <a href=\"http://blog.caboo.se/articles/2006/05/01/are-foreign-keys-worth-your-time\">Are Foreign Keys Worth Your Time?</a> blog post.  It looks like <a href=\"http://www.rubyonrails.org/\">Ruby on Rails</a> is partly to blame for this attitude by not properly supporting foreign keys.  That points back to <a href=\"http://www.mysql.com/\">MySQL</a> and their off again on again history for foreign keys.</p>\n<p>It is unfortunate that there are people who think that databases without foreign keys should be the norm and not the exception.</p>\n<p>Catching errors and problems at the application level is a good thing, by all means please do so.  But don&#8217;t, ever, EVER, use that as an excuse to not have proper checks in place at the database layer.  I&#8217;d liken this to the same people who feel that they don&#8217;t need to validate web data on the server side because they are doing that on the browser side with javascript.  So what happens when someone comes along who has javascript turned off?  So much for you data validation.  The same thing is true of the database and application relationship.  What happens when someone writes a new tool for accessing your database and all of you application level checks are skipped?</p>\n<p>Very bad things, that&#8217;s what.</p>\n",
            "content_text": "Curtis Poe takes a turn at shooting down people who think foreign keys aren&#8217;t important with a O&#8217;Reilly blog post: Misunderstanding Foreign Keys.  Curtis seems to have been inspired by this Are Foreign Keys Worth Your Time? blog post.  It looks like Ruby on Rails is partly to blame for this attitude by not properly supporting foreign keys.  That points back to MySQL and their off again on again history for foreign keys.\nIt is unfortunate that there are people who think that databases without foreign keys should be the norm and not the exception.\nCatching errors and problems at the application level is a good thing, by all means please do so.  But don&#8217;t, ever, EVER, use that as an excuse to not have proper checks in place at the database layer.  I&#8217;d liken this to the same people who feel that they don&#8217;t need to validate web data on the server side because they are doing that on the browser side with javascript.  So what happens when someone comes along who has javascript turned off?  So much for you data validation.  The same thing is true of the database and application relationship.  What happens when someone writes a new tool for accessing your database and all of you application level checks are skipped?\nVery bad things, that&#8217;s what.",
            "date_published": "2006-05-24T12:01:04-06:00",
            "date_modified": "2006-05-24T12:01:04-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "rubyonrails",
                "sql",
                "josephscott"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/?p=502",
            "url": "https://blog.josephscott.org/2005/10/11/guide-to-php-security/",
            "title": "Guide to PHP Security",
            "content_html": "<p>The chapter on <a href=\"http://dev.mysql.com/tech-resources/articles/guide-to-php-security.html\">SQL Injection</a> from the book <a href=\"http://www.amazon.com/gp/product/0973862106/002-2635821-4429631\">Guide to PHP Security</a> by <a href=\"http://ilia.ws/\">Ilia Alshanetsky</a> is available in <a href=\"http://dev.mysql.com/tech-resources/articles/guide-to-php-security-ch3.pdf\">PDF format</a>.  This can be a rather fun topic so I downloaded a copy of the PDF and started reading.  I&#8217;d read less two pages before I was ready to toss this chapter out the window.</p>\n<p>The first example showed a very simple inject that terminated the original query with a ; and appended another query that deleted some data.  The example used <a href=\"http://www.mysql.com/\">MySQL</a> functions and the author noted the following after explaining the injection:</p>\n<blockquote><p>\nFortunately, if you use MySQL, the mysql_query() function does not permit query stacking, or executing multiple queries in a single function call.  If you try to stack queries, the call fails.</p>\n<p>However, other PHP database extensions, such as <strong>SQLite and PostgreSQL, happily perform stacked queries, executing all of the queries provided in one string and creating a serious security problem</strong>.\n</p></blockquote>\n<p>The emphasis is mine.  I couldn&#8217;t believe that the author was basically claiming that MySQL is more secure than <a href=\"http://www.sqlite.org/\">SQLite</a> and <a href=\"http://www.postgresql.org/\">PostgreSQL</a> because they allowed you to run multiple SQL statements in one string.  Then something else came to mind, didn&#8217;t MySQL add this feature not too long ago?  So I went hunting around and came up with the <a href=\"http://dev.mysql.com/doc/mysql/en/c-api-multiple-queries.html\">C API Handling of Multiple Query Execution</a> in MySQL, which was introduced in version 4.1.  Although still correct, the <a href=\"http://us2.php.net/mysql_query\">mysql_query()</a> function in <a href=\"http://www.php.net/\">PHP</a> doesn&#8217;t allow for multiple statements, the underlying C libraries do.  I&#8217;d expect that at somepoint in the future PHP will catch up and support that feature for MySQL 4.1 and above.</p>\n<p>But back to my first point, being able to run multiple queries in a single string is not a security threat.  Not proplerly filtering data before using in an SQL statement is.  If you allow unfiltered data to be injected into your SQL statement then you&#8217;ve got problems, even if you database doesn&#8217;t support multiple statements in a single string.</p>\n<p>I hope that this isn&#8217;t typical of the rest of the book.</p>\n",
            "content_text": "The chapter on SQL Injection from the book Guide to PHP Security by Ilia Alshanetsky is available in PDF format.  This can be a rather fun topic so I downloaded a copy of the PDF and started reading.  I&#8217;d read less two pages before I was ready to toss this chapter out the window.\nThe first example showed a very simple inject that terminated the original query with a ; and appended another query that deleted some data.  The example used MySQL functions and the author noted the following after explaining the injection:\n\nFortunately, if you use MySQL, the mysql_query() function does not permit query stacking, or executing multiple queries in a single function call.  If you try to stack queries, the call fails.\nHowever, other PHP database extensions, such as SQLite and PostgreSQL, happily perform stacked queries, executing all of the queries provided in one string and creating a serious security problem.\n\nThe emphasis is mine.  I couldn&#8217;t believe that the author was basically claiming that MySQL is more secure than SQLite and PostgreSQL because they allowed you to run multiple SQL statements in one string.  Then something else came to mind, didn&#8217;t MySQL add this feature not too long ago?  So I went hunting around and came up with the C API Handling of Multiple Query Execution in MySQL, which was introduced in version 4.1.  Although still correct, the mysql_query() function in PHP doesn&#8217;t allow for multiple statements, the underlying C libraries do.  I&#8217;d expect that at somepoint in the future PHP will catch up and support that feature for MySQL 4.1 and above.\nBut back to my first point, being able to run multiple queries in a single string is not a security threat.  Not proplerly filtering data before using in an SQL statement is.  If you allow unfiltered data to be injected into your SQL statement then you&#8217;ve got problems, even if you database doesn&#8217;t support multiple statements in a single string.\nI hope that this isn&#8217;t typical of the rest of the book.",
            "date_published": "2005-10-11T11:27:08-06:00",
            "date_modified": "2005-10-11T11:27:08-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "MySQL",
                "PHP",
                "PostgreSQL",
                "security",
                "sql",
                "sqlinjection",
                "sqlite",
                "josephscott"
            ]
        },
        {
            "id": "http://joseph.randomnetworks.com/?p=468",
            "url": "https://blog.josephscott.org/2005/08/26/hierarchical-data-using-geometric-types/",
            "title": "Hierarchical Data Using Geometric Types",
            "content_html": "<p>While I was scanning through the <a href=\"http://dev.mysql.com/tech-resources/articles/hierarchical-data.html\">Managing Hierarchical Data in MySQL</a> article at <a href=\"http://wwww.mysql.com/\">MySQL.com</a> I started to wonder if someone had come up with a way to manage hierarchical data using geometric types.  <a href=\"http://www.postgresql.org/\">PostgreSQL</a> supports <a href=\"http://www.postgresql.org/docs/8.0/interactive/datatype-geometric.html\">geometric types</a> like point, line, box, circle and polygon and several <a href=\"http://www.postgresql.org/docs/8.0/interactive/functions-geometry.html\">geometric functions and operators</a>.</p>\n<p>If you started out with one box (the universe) and then created new child boxes as needed then you should be able to accurately describe a hierarchy.  You&#8217;d have to be able to shrink and grow each box (and all the boxes above it) as needed to make room for more or less child boxes.  It would also be nice to have an easy to way move a branch of the hierarchy (along with everything below it) to some other position in the hierarchy.</p>\n<p>It would take some work to sit down and come up with the functions and triggers that would make managing something like this as simple as possible.  Anyone know where something like this has already been implemented?</p>\n",
            "content_text": "While I was scanning through the Managing Hierarchical Data in MySQL article at MySQL.com I started to wonder if someone had come up with a way to manage hierarchical data using geometric types.  PostgreSQL supports geometric types like point, line, box, circle and polygon and several geometric functions and operators.\nIf you started out with one box (the universe) and then created new child boxes as needed then you should be able to accurately describe a hierarchy.  You&#8217;d have to be able to shrink and grow each box (and all the boxes above it) as needed to make room for more or less child boxes.  It would also be nice to have an easy to way move a branch of the hierarchy (along with everything below it) to some other position in the hierarchy.\nIt would take some work to sit down and come up with the functions and triggers that would make managing something like this as simple as possible.  Anyone know where something like this has already been implemented?",
            "date_published": "2005-08-26T09:03:46-06:00",
            "date_modified": "2005-08-26T09:03:46-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "geometry",
                "hierarchicaldata",
                "MySQL",
                "PostgreSQL",
                "spatialdata",
                "sql",
                "josephscott"
            ]
        }
    ]
}