{
    "version": "https://jsonfeed.org/version/1.1",
    "user_comment": "This feed allows you to read the posts from this site in any feed reader that supports the JSON Feed format. To add this feed to your reader, copy the following URL -- https://blog.josephscott.org/tag/ubuntu/feed/json/ -- and add it your reader.",
    "home_page_url": "https://blog.josephscott.org/tag/ubuntu/",
    "feed_url": "https://blog.josephscott.org/tag/ubuntu/feed/json/",
    "language": "en-US",
    "title": "ubuntu &#8211; Joseph Scott",
    "items": [
        {
            "id": "https://blog.josephscott.org/?p=17314",
            "url": "https://blog.josephscott.org/2019/02/14/h2load-on-ubuntu-18-04/",
            "title": "h2load on Ubuntu 18.04",
            "content_html": "<p>For simple HTTP tests ab ( <a href=\"https://httpd.apache.org/docs/2.4/programs/ab.html\">Apache Bench</a> ) has been very useful. Unfortunately it has one may drawback today: no support for HTTP/2. For that, I recommend <a href=\"https://nghttp2.org/documentation/h2load-howto.html\">h2load</a>, part of the <a href=\"https://github.com/nghttp2/nghttp2\">nghtttp2</a> library.</p>\n<p>On Ubuntu 18.04 you can get it as part of the <a href=\"https://packages.ubuntu.com/bionic/nghttp2-client\">nghttp2-client package</a>, which uses version 1.30.0. For that, a simple <code>sudo apt-get install nghttp2-client</code> will work. If you want to use a more <a href=\"https://github.com/nghttp2/nghttp2/releases\">recent release</a>, it isn&#8217;t hard to build from source.</p>\n<p>Here is a simple script for building nghttp2 with h2load:</p>\n<pre class=\"line-numbers\"><code class=\"language-markdown\">sudo apt-get update\r\nsudo apt-get install g++ make binutils autoconf automake \\\r\n        autotools-dev libtool pkg-config zlib1g-dev \\\r\n        libcunit1-dev libssl-dev libxml2-dev \\\r\n        libev-dev libevent-dev libjansson-dev libc-ares-dev \\\r\n        libjemalloc-dev cython python3-dev python-setuptools \\\r\n        libjemalloc-dev libspdylay-dev\r\n\r\ngit clone https://github.com/nghttp2/nghttp2.git &amp;&amp; cd nghttp2\r\nautoreconf -i &amp;&amp; automake &amp;&amp; autoconf\r\n./configure &#8211; enable-app\r\nmake\r\nmake install</code></pre>\n<p>Running a test based on number of requests, similar to how ab works, is simple:</p>\n<pre class=\"line-numbers\"><code class=\"language-markdown\">h2load -n100000 -c100 -m10 https://wordpress.com/\r\nstarting benchmark...\r\nspawning thread #0: 100 total client(s). 100000 total requests\r\nTLS Protocol: TLSv1.2\r\nCipher: ECDHE-RSA-CHACHA20-POLY1305\r\nServer Temp Key: X25519 253 bits\r\nApplication protocol: h2\r\nprogress: 10% done\r\nprogress: 20% done\r\nprogress: 30% done\r\nprogress: 40% done\r\nprogress: 50% done\r\nprogress: 60% done\r\nprogress: 70% done\r\nprogress: 80% done\r\nprogress: 90% done\r\nprogress: 100% done\r\n\r\nfinished in 23.23s, 4303.95 req/s, 576.06MB/s\r\nrequests: 100000 total, 100000 started, 100000 done, 100000 succeeded, 0 failed, 0 errored, 0 timeout\r\nstatus codes: 100000 2xx, 0 3xx, 0 4xx, 0 5xx\r\ntraffic: 13.07GB (14034680653) total, 13.54MB (14202199) headers (space savings 85.79%), 13.04GB (14002549632) data\r\n                     min         max         mean         sd        +/- sd\r\ntime for request:    11.73ms       1.96s    195.00ms    135.61ms    79.09%\r\ntime for connect:    34.41ms     67.43ms     56.84ms      8.35ms    72.00%\r\ntime to 1st byte:    57.60ms    578.96ms    167.02ms    107.88ms    82.00%\r\nreq/s           :      43.05       97.70       52.28        9.13    85.00%</code></pre>\n<p>Another option is to test for a length of time:</p>\n<pre class=\"line-numbers\"><code class=\"language-markdown\">h2load -c100 -m100 &#8211; duration=10 &#8211; warm-up-time=3 https://wordpress.com/</code></pre>\n<p>That runs a 10 second test, with a warm up period of 3 seconds.</p>\n",
            "content_text": "For simple HTTP tests ab ( Apache Bench ) has been very useful. Unfortunately it has one may drawback today: no support for HTTP/2. For that, I recommend h2load, part of the nghtttp2 library.\nOn Ubuntu 18.04 you can get it as part of the nghttp2-client package, which uses version 1.30.0. For that, a simple sudo apt-get install nghttp2-client will work. If you want to use a more recent release, it isn&#8217;t hard to build from source.\nHere is a simple script for building nghttp2 with h2load:\nsudo apt-get update\r\nsudo apt-get install g++ make binutils autoconf automake \\\r\n        autotools-dev libtool pkg-config zlib1g-dev \\\r\n        libcunit1-dev libssl-dev libxml2-dev \\\r\n        libev-dev libevent-dev libjansson-dev libc-ares-dev \\\r\n        libjemalloc-dev cython python3-dev python-setuptools \\\r\n        libjemalloc-dev libspdylay-dev\r\n\r\ngit clone https://github.com/nghttp2/nghttp2.git &amp;&amp; cd nghttp2\r\nautoreconf -i &amp;&amp; automake &amp;&amp; autoconf\r\n./configure &#8211; enable-app\r\nmake\r\nmake install\nRunning a test based on number of requests, similar to how ab works, is simple:\nh2load -n100000 -c100 -m10 https://wordpress.com/\r\nstarting benchmark...\r\nspawning thread #0: 100 total client(s). 100000 total requests\r\nTLS Protocol: TLSv1.2\r\nCipher: ECDHE-RSA-CHACHA20-POLY1305\r\nServer Temp Key: X25519 253 bits\r\nApplication protocol: h2\r\nprogress: 10% done\r\nprogress: 20% done\r\nprogress: 30% done\r\nprogress: 40% done\r\nprogress: 50% done\r\nprogress: 60% done\r\nprogress: 70% done\r\nprogress: 80% done\r\nprogress: 90% done\r\nprogress: 100% done\r\n\r\nfinished in 23.23s, 4303.95 req/s, 576.06MB/s\r\nrequests: 100000 total, 100000 started, 100000 done, 100000 succeeded, 0 failed, 0 errored, 0 timeout\r\nstatus codes: 100000 2xx, 0 3xx, 0 4xx, 0 5xx\r\ntraffic: 13.07GB (14034680653) total, 13.54MB (14202199) headers (space savings 85.79%), 13.04GB (14002549632) data\r\n                     min         max         mean         sd        +/- sd\r\ntime for request:    11.73ms       1.96s    195.00ms    135.61ms    79.09%\r\ntime for connect:    34.41ms     67.43ms     56.84ms      8.35ms    72.00%\r\ntime to 1st byte:    57.60ms    578.96ms    167.02ms    107.88ms    82.00%\r\nreq/s           :      43.05       97.70       52.28        9.13    85.00%\nAnother option is to test for a length of time:\nh2load -c100 -m100 &#8211; duration=10 &#8211; warm-up-time=3 https://wordpress.com/\nThat runs a 10 second test, with a warm up period of 3 seconds.",
            "date_published": "2019-02-14T07:23:01-07:00",
            "date_modified": "2019-02-14T07:23:01-07:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "h2load",
                "nghttp2",
                "ubuntu"
            ]
        },
        {
            "id": "https://blog.josephscott.org/?p=16743",
            "url": "https://blog.josephscott.org/2018/10/09/minimal-ubuntu/",
            "title": "Minimal Ubuntu",
            "content_html": "<p>While I still have very mixed feelings about the world of Docker, if you are going down that road, having smaller base distributions can be very helpful.  I was pleased to see the <a href=\"https://blog.ubuntu.com/2018/07/09/minimal-ubuntu-released\">minimal Ubuntu announcement</a> a few months ago.</p>\n<p>I like that they took it step further and made the minimal version the standard official release version for Docker.  Running <code>docker run ubuntu:18.04</code> will give you the minimal server version of 18.04 LTS.</p>\n<p>Defaults matter, and I think this was a smart move by the Ubuntu folks.</p>\n",
            "content_text": "While I still have very mixed feelings about the world of Docker, if you are going down that road, having smaller base distributions can be very helpful.  I was pleased to see the minimal Ubuntu announcement a few months ago.\nI like that they took it step further and made the minimal version the standard official release version for Docker.  Running docker run ubuntu:18.04 will give you the minimal server version of 18.04 LTS.\nDefaults matter, and I think this was a smart move by the Ubuntu folks.",
            "date_published": "2018-10-09T11:07:55-06:00",
            "date_modified": "2018-10-09T11:07:55-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "ubuntu"
            ]
        }
    ]
}