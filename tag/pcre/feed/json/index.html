{
    "version": "https://jsonfeed.org/version/1.1",
    "user_comment": "This feed allows you to read the posts from this site in any feed reader that supports the JSON Feed format. To add this feed to your reader, copy the following URL -- https://blog.josephscott.org/tag/pcre/feed/json/ -- and add it your reader.",
    "home_page_url": "https://blog.josephscott.org/tag/pcre/",
    "feed_url": "https://blog.josephscott.org/tag/pcre/feed/json/",
    "language": "en-US",
    "title": "pcre &#8211; Joseph Scott",
    "items": [
        {
            "id": "http://josephscott.org/?p=1214",
            "url": "https://blog.josephscott.org/2009/05/04/when-regular-expressions-gets-greedy/",
            "title": "When Regular Expressions Get Greedy",
            "content_html": "<p>I&#8217;ve been using a regular expression (PHP&#8217;s <a href=\"http://us.php.net/preg_match\">preg_match</a> function) to parse email addresses.  The addresses have a consistent pattern that look like:</p>\n<p><code>anamehere+XXXXXXXX@mail.example.com</code></p>\n<p>The XXXXXX section is a random set of characters: a-z, A-Z, 0-9 and -.  The regular expression&#8217;s job was to extract that random set of characters, which is easy to do:</p>\n<p>[sourcecode lang=&#8221;php&#8221;]<br />\n$email_addr = &#8216;anamehere+XXXXXX@mail.example.com&#8217;;<br />\npreg_match( &#8216;|anamehere+(.*)@.*$|&#8217;, $email_addr, $match );<br />\n$email_code = $match[1];<br />\n[/sourcecode]</p>\n<p>Since the format of the email address is consistent it was easy to pull out the section I was interested in.  Well, it was easy until it broke when the email was sent in from a specific email client.  Turns out this client set the value of the email address to something different:</p>\n<p><code>\"anamehere+XXXXXX@mail.example.com\" &lt;anamehere+XXXXXX@mail.example.com&gt;</code></p>\n<p>After getting over my frustration at this email client I looked at what the regular expression matched:</p>\n<p><code>XXXXXX@mail.example.com\" &lt;anamehere+XXXXXX</code></p>\n<p>Well that was no good.  Instead of just matching the XXXXXX it was slurping up other portions of the email address as well.  Enter the greed factor of Perl Compatible Regular Expressions (PCRE).  If you aren&#8217;t familiar with greedy regular expressions it simply means that they try to match as much as the can.  Fortunately there is a way to turn off the greediness using the <a href=\"http://us.php.net/manual/en/reference.pcre.pattern.modifiers.php\">U pattern modifier</a>.  By adding a U to the end of the regular expression things got much better:</p>\n<p>[sourcecode lang=&#8221;php&#8221;]<br />\n$email_addr = &#8216;anamehere+XXXXXX@mail.example.com&#8217;;<br />\npreg_match( &#8216;|anamehere+(.*)@.*$|U&#8217;, $email_addr, $match );<br />\n$email_code = $match[1];<br />\n[/sourcecode]</p>\n<p>Now even the odd ball email address was extracting just the XXXXXX in the regular expression.</p>\n<p>Using the U at the end turns off greediness for the entire regular expression.  You can turn off the greediness of a single quantifier (the * in this case) by following it with a ?.  Using that technique the regular expression is <code>anamehere+(.*?)@.*$</code> which works as well.</p>\n<p>If you find that your regular expressions are matching more that you want remember that they are greedy by default.</p>\n",
            "content_text": "I&#8217;ve been using a regular expression (PHP&#8217;s preg_match function) to parse email addresses.  The addresses have a consistent pattern that look like:\nanamehere+XXXXXXXX@mail.example.com\nThe XXXXXX section is a random set of characters: a-z, A-Z, 0-9 and -.  The regular expression&#8217;s job was to extract that random set of characters, which is easy to do:\n[sourcecode lang=&#8221;php&#8221;]\n$email_addr = &#8216;anamehere+XXXXXX@mail.example.com&#8217;;\npreg_match( &#8216;|anamehere+(.*)@.*$|&#8217;, $email_addr, $match );\n$email_code = $match[1];\n[/sourcecode]\nSince the format of the email address is consistent it was easy to pull out the section I was interested in.  Well, it was easy until it broke when the email was sent in from a specific email client.  Turns out this client set the value of the email address to something different:\n\"anamehere+XXXXXX@mail.example.com\" &lt;anamehere+XXXXXX@mail.example.com&gt;\nAfter getting over my frustration at this email client I looked at what the regular expression matched:\nXXXXXX@mail.example.com\" &lt;anamehere+XXXXXX\nWell that was no good.  Instead of just matching the XXXXXX it was slurping up other portions of the email address as well.  Enter the greed factor of Perl Compatible Regular Expressions (PCRE).  If you aren&#8217;t familiar with greedy regular expressions it simply means that they try to match as much as the can.  Fortunately there is a way to turn off the greediness using the U pattern modifier.  By adding a U to the end of the regular expression things got much better:\n[sourcecode lang=&#8221;php&#8221;]\n$email_addr = &#8216;anamehere+XXXXXX@mail.example.com&#8217;;\npreg_match( &#8216;|anamehere+(.*)@.*$|U&#8217;, $email_addr, $match );\n$email_code = $match[1];\n[/sourcecode]\nNow even the odd ball email address was extracting just the XXXXXX in the regular expression.\nUsing the U at the end turns off greediness for the entire regular expression.  You can turn off the greediness of a single quantifier (the * in this case) by following it with a ?.  Using that technique the regular expression is anamehere+(.*?)@.*$ which works as well.\nIf you find that your regular expressions are matching more that you want remember that they are greedy by default.",
            "date_published": "2009-05-04T11:08:38-06:00",
            "date_modified": "2009-05-04T11:08:38-06:00",
            "authors": [
                {
                    "name": "josephscott",
                    "url": "https://blog.josephscott.org/author/josephscott/",
                    "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
                }
            ],
            "author": {
                "name": "josephscott",
                "url": "https://blog.josephscott.org/author/josephscott/",
                "avatar": "https://secure.gravatar.com/avatar/582b66ad5ae1b69c7601a990cb9a661a?s=512&d=mm&r=g"
            },
            "tags": [
                "pcre",
                "PHP",
                "regex",
                "Posts"
            ]
        }
    ]
}